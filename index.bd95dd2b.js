function e(e,n,t,a){Object.defineProperty(e,n,{get:t,set:a,enumerable:!0,configurable:!0})}function n(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},s={},i=t.parcelRequire62bd;null==i&&((i=function(e){if(e in a)return a[e].exports;if(e in s){var n=s[e];delete s[e];var t={id:e,exports:{}};return a[e]=t,n.call(t.exports,t,t.exports),t.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,n){s[e]=n},t.parcelRequire62bd=i),i.register("kyEFX",(function(n,t){var a,s;e(n.exports,"register",(function(){return a}),(function(e){return a=e})),e(n.exports,"resolve",(function(){return s}),(function(e){return s=e}));var i={};a=function(e){for(var n=Object.keys(e),t=0;t<n.length;t++)i[n[t]]=e[n[t]]},s=function(e){var n=i[e];if(null==n)throw new Error("Could not resolve bundle with id "+e);return n}})),i("kyEFX").register(JSON.parse('{"5ZPII":"index.bd95dd2b.js","2L4JT":"poster.eca3a33b.jpg","lp5u4":"sprite.47a876e0.svg","5UbS1":"index.ee55eba9.css"}'));class r{fetchGenres(e){return fetch(`https://api.themoviedb.org/3/genre/${e}/list?api_key=81f57ce8a5863d84fdab7c29ba0c37c2&language=en-US`).then((e=>e.json()))}fetchTrending(){const e=`https://api.themoviedb.org/3/trending/all/day?api_key=81f57ce8a5863d84fdab7c29ba0c37c2&page=${this.page}`;return fetch(e).then((e=>e.json()))}fetchSearchMovie(){const e=`https://api.themoviedb.org/3/search/movie?api_key=81f57ce8a5863d84fdab7c29ba0c37c2&language=en-US&query=${this.searchQuery}&page=${this.page}&include_adult=false`;return fetch(e).then((e=>e.json()))}fetchMovieDetails(e){return fetch(`https://api.themoviedb.org/3/movie/${e}?api_key=81f57ce8a5863d84fdab7c29ba0c37c2&language=en-US`).then((e=>e.json()))}incrementPage(){this.page+=1}set pageNumber(e){this.page=e}resetPage(){this.page=1}get query(){return this.searchQuery}set query(e){this.searchQuery=e}get movieId(){return this.searchId}set movieId(e){this.searchId=e}constructor(){this.searchQuery="",this.page=1,this.searchId="66732"}}var l={searchInput:document.querySelector("#search-movie"),backdrop:document.querySelector(".backdrop"),galleryList:document.querySelector(".gallery"),openTeamModalBtn:document.querySelector(".footer__button"),closeTeamModalBtn:document.querySelector(".team-modal__btn-close"),backdropTeamModal:document.querySelector(".backdrop__team-modal")};const c=new r,o=e=>{e.preventDefault(),c.query=e.currentTarget.elements.searchQuery.value.trim();""===c.searchQuery?console.log("Пустий пошук"):(c.resetPage(),c.fetchSearchMovie().then(console.log))};const d=new r;d.fetchTrending().then((function(e){const n=e.results;console.log(e),Promise.all([d.fetchGenres("movie"),d.fetchGenres("tv")]).then((e=>{const t=e.map((e=>e.genres)),a=[].concat.apply([],t),s=new Map(a.map((e=>[e.id,e.name])));!function(e,n){console.log(e),console.log(n);const t=e.map((({poster_path:e,original_title:t,original_name:a,genre_ids:s,release_date:i,first_air_date:r,vote_average:l,id:c})=>{const o=t||a,d=(i||r).split("-")[0];console.log(d),console.log(s);const u=s.slice(0,2).map((e=>n.get(e)));s.length>2&&u.push("others");const v=u.join(", ");console.log(v);return`<li class="gallery__item card" data-id="${c}">\n          <img\n            class="card__image"\n            src="https://image.tmdb.org/t/p/w500/${e}"\n            alt="poster"\n            loading="lazy"\n          />\n          <div class="card__info" >\n            <p class="card__title">${o}</p>\n            <div class="card__movie-info">\n              <p class="card__genre">${v}</p>\n              <span class="vertical">&nbsp|&nbsp</span>\n              <p class="card__release">${d}</p>\n              <p class="card__rating">${l.toFixed(1)}</p>\n            </div>\n          </div>\n      </li>`})).join("");l.galleryList.insertAdjacentHTML("beforeend",t),console.log(t)}(n,s)})).catch((e=>{console.log(e)}))}));var u;u=new URL(i("kyEFX").resolve("2L4JT"),import.meta.url).toString();const v=document.querySelector(".gallery"),_=(document.querySelector(".gallery-button-list"),[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]),h=()=>{const e=_.map((e=>`<li class="gallery__item card">\n<a href="" class="card__link">\n  <img\n    class="card__image"\n    src="${n(u)}"\n    alt=""\n    loading="lazy"\n  />\n  <div class="card__info">\n    <p class="card__title">A FISTFUL OF LEAD</p>\n    <div class="card__movie-info">\n      <p class="card__genre">Western</p>\n      <span class="vertical">&nbsp|&nbsp</span>\n      <p class="card__release">2019</p>\n      <p class="card__rating">7.3</p>\n    </div>\n  </div>\n</a>\n</li>`)).join("");v.insertAdjacentHTML("beforeend",e)};h();var p,m=class{insertIn(e){e.insertAdjacentHTML("beforeend",this.markup)}off(){document.querySelector(".spiner__holder").classList.add("is-hidden")}on(){document.querySelector(".spiner__holder").classList.remove("is-hidden")}constructor(){this.markup='<div class="spiner__holder is-hidden">\n      <div class="lds-spinner">\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <p class="spiner__text">Please stand by</p>\n        </div>\n    </div>'}};p=new URL(i("kyEFX").resolve("lp5u4"),import.meta.url).toString();const g=()=>{const e=document.querySelector(".header");e.innerHTML=`<div class="nav-wrap">\n    <a href="#" class="header__logo" id="logoLink">\n     <svg class="header__icon">\n        <use href="${n(p)}#icon-main-logo"></use>\n      </svg>\n      <span class="header__text">Filmoteka</span>\n    </a>\n    <nav>\n      <ul class="nav-list">\n        <li class="nav-list__item">\n          <a\n            class="nav-list__link nav-list__link--current"\n            href="#"\n            id="homeLink"\n            >Home</a\n          >\n        </li>\n        <li class="nav-list__item">\n          <a class="nav-list__link" href="#" id="libraryLink">My library</a>\n        </li>\n      </ul>\n    </nav>\n  </div>\n  <div class="search-form-wrap">\n    <form class="search-form" id="search-movie">\n      <input\n        class="search-form__input"\n        name="searchQuery"\n        type="text"\n        placeholder="Movie search"\n      />\n      <button class="search-form__button-submit" type="submit">\n       <svg width="12" height="12">\n          <use href="./images/sprite.svg#icon-search"></use>\n        </svg>\n      </button>\n    </form>\n  </div>\n  <p class="notification">\n    Search result is not successful. Enter the correct movie name and try again.\n  </p>\n`,e.classList.remove("additional-bg");document.getElementById("libraryLink").addEventListener("click",y);document.getElementById("search-movie").addEventListener("submit",o)},f=e=>{e.preventDefault(),g()},b=()=>{const e=document.querySelector(".header");e.innerHTML=`<div class="nav-wrap additional-margin">\n    <a href="#" class="header__logo" id="logoLink">\n      <svg class="header__icon">\n        <use href="${n(p)}#icon-main-logo"></use>\n      </svg>\n      <span class="header__text">Filmoteka</span>\n    </a>\n    <nav>\n      <ul class="nav-list">\n        <li class="nav-list__item">\n          <a class="nav-list__link" href="#" id="homeLink">Home</a>\n        </li>\n        <li class="nav-list__item">\n          <a class="nav-list__link nav-list__link--current" href="#" id="libraryLink"\n            >My library</a\n          >\n        </li>\n      </ul>\n    </nav>\n  </div>\n  <ul class="button-list">\n    <li class="button-list__item">\n      <button class="button-list__btn button-list__btn--current" type="button">\n        Watched\n      </button>\n    </li>\n    <li class="button-list__item">\n      <button class="button-list__btn" type="button">Queue</button>\n    </li>\n  </ul>\n`,e.classList.add("additional-bg");const t=document.getElementById("homeLink"),a=document.getElementById("logoLink");t.addEventListener("click",f),a.addEventListener("click",f)},y=e=>{e.preventDefault(),b()};new m;(()=>{const e=`<header class="header container">\n  <div class="nav-wrap">\n    <a href="#" class="header__logo" id="logoLink">\n      <svg class="header__icon">\n        <use href="${n(p)}#icon-main-logo"></use>\n      </svg>\n      <span class="header__text">Filmoteka</span>\n    </a>\n    <nav>\n      <ul class="nav-list">\n        <li class="nav-list__item">\n          <a\n            class="nav-list__link nav-list__link--current"\n            href="#"\n            id="homeLink"\n            >Home</a\n          >\n        </li>\n        <li class="nav-list__item">\n          <a class="nav-list__link" href="#" id="libraryLink">My library</a>\n        </li>\n      </ul>\n    </nav>\n  </div>\n  <div class="search-form-wrap">\n    <form class="search-form" id="search-movie">\n      <input\n        class="search-form__input"\n        name="searchQuery"\n        type="text"\n        placeholder="Movie search"\n      />\n      <button class="search-form__button-submit" type="submit">\n        <svg width="12" height="12">\n          <use href="${n(p)}#icon-search"></use>\n        </svg>\n      </button>\n    </form>\n  </div>\n  <p class="notification">\n    Search result is not successful. Enter the correct movie name and try again.\n  </p>\n</header>`;document.body.insertAdjacentHTML("afterbegin",e);document.getElementById("libraryLink").addEventListener("click",y);document.getElementById("search-movie").addEventListener("submit",o)})();
//# sourceMappingURL=index.bd95dd2b.js.map
