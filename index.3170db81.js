!function(){function t(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}function e(t){return t&&t.__esModule?t.default:t}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},a={},o=n.parcelRequire62bd;null==o&&((o=function(t){if(t in r)return r[t].exports;if(t in a){var e=a[t];delete a[t];var n={id:t,exports:{}};return r[t]=n,e.call(n.exports,n,n.exports),n.exports}var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(t,e){a[t]=e},n.parcelRequire62bd=o),o.register("iE7OH",(function(e,n){var r,a;t(e.exports,"register",(function(){return r}),(function(t){return r=t})),t(e.exports,"resolve",(function(){return a}),(function(t){return a=t}));var o={};r=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)o[e[n]]=t[e[n]]},a=function(t){var e=o[t];if(null==e)throw new Error("Could not resolve bundle with id "+t);return e}})),o.register("aNJCr",(function(e,n){var r;t(e.exports,"getBundleURL",(function(){return r}),(function(t){return r=t}));var a={};function o(t){return(""+t).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}r=function(t){var e=a[t];return e||(e=function(){try{throw new Error}catch(e){var t=(""+e.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(t)return o(t[2])}return"/"}(),a[t]=e),e}})),o("iE7OH").register(JSON.parse('{"EVgbq":"index.3170db81.js","ee16w":"sprite.47a876e0.svg","5UbS1":"index.f1288467.css"}'));var i;i=o("aNJCr").getBundleURL("EVgbq")+o("iE7OH").resolve("ee16w");var c={};Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")};var s={};function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(t,e,n){e&&l(t.prototype,e);n&&l(t,n);return t};var u="https://api.themoviedb.org/3",d="81f57ce8a5863d84fdab7c29ba0c37c2",h=function(){"use strict";function t(){e(c)(this,t),this.searchQuery="",this.page=1,this.searchId="66732"}return e(s)(t,[{key:"fetchGenres",value:function(t){var e="".concat(u,"/genre/").concat(t,"/list?api_key=").concat(d,"&language=en-US");return fetch(e).then((function(t){return t.json()}))}},{key:"fetchTrending",value:function(){var t="".concat(u,"/trending/movie/day?api_key=").concat(d,"&page=").concat(this.page);return fetch(t).then((function(t){return t.json()}))}},{key:"fetchSearchMovie",value:function(){var t="".concat(u,"/search/movie?api_key=").concat(d,"&language=en-US&query=").concat(this.searchQuery,"&page=").concat(this.page,"&include_adult=false");return fetch(t).then((function(t){return t.json()}))}},{key:"fetchMovieDetails",value:function(t){var e="".concat(u,"/movie/").concat(t,"?api_key=").concat(d,"&language=en-US");return fetch(e).then((function(t){return t.json()}))}},{key:"incrementPage",value:function(){this.page+=1}},{key:"decrementPage",value:function(){this.page-=1}},{key:"pageNumber",get:function(){return this.page},set:function(t){this.page=t}},{key:"resetPage",value:function(){this.page=1}},{key:"query",get:function(){return this.searchQuery},set:function(t){this.searchQuery=t}},{key:"movieId",get:function(){return this.searchId},set:function(t){this.searchId=t}}]),t}();function f(t,e){return t.map((function(t){var n=t.poster_path,r=t.backdrop_path,a=t.original_title,o=t.original_name,i=t.genre_ids,c=t.release_date,s=t.first_air_date,l=t.vote_average,u=t.id,d=a||o,h=n||r,f=new Date(c||s).getFullYear(),v=i.slice(0,2).map((function(t){return e.get(t)}));i.length>2&&v.push("others");var p=v.join(", "),g=l.toFixed(1);return'<li class="gallery__item card" data-id="'.concat(u,'">\n          <img\n            class="card__image"\n            src="https://image.tmdb.org/t/p/w500/').concat(h,'"\n            alt="poster"\n            loading="lazy"\n          />\n          <div class="card__info" >\n            <p class="card__title">').concat(d,'</p>\n            <div class="card__movie-info">\n              <p class="card__genre">').concat(p,'</p>\n              <span class="vertical">&nbsp|&nbsp</span>\n              <p class="card__release">').concat(f,'</p>\n              <p class="card__rating">').concat(g,"</p>\n            </div>\n          </div>\n      </li>")})).join("")}function v(t,n){var r='<button class="pagination__arrow pagination__arrow-left" id=\'previous\'>\n                      <svg class="pagination-arrow-icon" >\n                        <use href="'.concat(e(i),'#icon-arrow-left"></use>\n                      </svg>\n                    </button>'),a='<button class="pagination__arrow pagination__arrow-right" id=\'next\'>\n                      <svg class="pagination-arrow-icon">\n                        <use href="'.concat(e(i),'#icon-arrow-right" ></use>\n                      </svg>\n                    </button>'),o='<li class="item">\n                          <button class="pagination__btn">1</button>\n                        </li>',c='<li class="item">\n                    <button class="pagination-btn-more">...</button>\n                  </li>',s='<li class="item">\n                        <button class="pagination__btn">'.concat(t-2,"</button>\n                      </li>"),l='<li class="item">\n                    <button class="pagination__btn">'.concat(t-1,"</button>\n                  </li>"),u='<li class="item">\n                        <button class="pagination__btn pagination__btn--choice">'.concat(t,"</button>\n                      </li>"),d='<li class="item">\n                    <button class="pagination__btn">'.concat(t+1,"</button>\n                  </li>"),h=' <li class="item">\n                          <button class="pagination__btn">'.concat(t+2,"</button>\n                        </li>"),f='<li class="item">\n                    <button class="pagination__btn">'.concat(n,"</button>\n                  </li>");return 1===t?' <ul class="pagination-list">\n              '.concat(u," \n              ").concat(d,"\n              ").concat(h,"\n              ").concat(c,"\n              ").concat(f,"\n            </ul>\n            ").concat(a):2===t?"".concat(r,'\n            <ul class="pagination-list">\n              ').concat(l,"\n              ").concat(u," \n              ").concat(d,"\n              ").concat(h,"\n              ").concat(c,"\n              ").concat(f,"\n            </ul>\n            ").concat(a):3===t?"".concat(r,'\n            <ul class="pagination-list">\n              ').concat(s,"\n              ").concat(l,"\n              ").concat(u," \n              ").concat(d,"\n              ").concat(h,"\n              ").concat(c,"\n              ").concat(f,"\n            </ul>\n            ").concat(a):t===n-2?"".concat(r,'\n            <ul class="pagination-list">\n              ').concat(o,"\n              ").concat(c,"\n              ").concat(s,"\n              ").concat(l,"\n              ").concat(u," \n              ").concat(d,"\n              ").concat(h,"\n            </ul>\n            ").concat(a):t===n-1?"".concat(r,'\n            <ul class="pagination-list">\n              ').concat(o,"\n              ").concat(c,"\n              ").concat(s,"\n              ").concat(l,"\n              ").concat(u," \n              ").concat(d,"\n            </ul>\n            ").concat(a):t===n?"".concat(r,'\n            <ul class="pagination-list">\n              ').concat(o,"\n              ").concat(c,"\n              ").concat(s,"\n              ").concat(l,"\n              ").concat(u," \n            </ul>"):"".concat(r,'\n            <ul class="pagination-list">\n              ').concat(o,"\n              ").concat(c,"\n              ").concat(s,"\n              ").concat(l,"\n              ").concat(u," \n              ").concat(d,"\n              ").concat(h,"\n              ").concat(c,"\n              ").concat(f,"\n            </ul>\n            ").concat(a)}var p=new h;function g(){p.fetchTrending().then(y).catch(console.log)}function m(t){var e=document.querySelector(".pagination"),n=p.pageNumber,r=t.total_pages;e.innerHTML=v(n,r),e.addEventListener("click",(function t(r){if(r.preventDefault(),+r.target.textContent===n)return void console.log("Поточна сторінка");if("next"===r.target.id)return p.incrementPage(),e.removeEventListener("click",t),void g();if("previous"===r.target.id)return p.decrementPage(),e.removeEventListener("click",t),void g();"BUTTON"===r.target.nodeName&&(p.pageNumber=+r.target.textContent,e.removeEventListener("click",t),g())}))}var _=new h;function y(t){var e=t.results;Promise.all([_.fetchGenres("movie"),_.fetchGenres("tv")]).then((function(n){var r=n.flatMap((function(t){return t.genres})),a=new Map(r.map((function(t){return[t.id,t.name]})));document.querySelector(".gallery").innerHTML=f(e,a),m(t)})).catch(console.log)}var b=new h;document.addEventListener("DOMContentLoaded",(function(){var t=document.querySelector("#search-movie");console.log(t),t.addEventListener("submit",L)}));var L=function(t){t.preventDefault();var e=t.currentTarget.elements.searchQuery.value.trim();""!==e?(b.query=e,b.resetPage(),b.fetchSearchMovie().then(y).catch(console.log)):console.log("Пустий пошук")},w=function(){var t=document.querySelector(".header");t.innerHTML='<div class="nav-wrap">\n    <a href="#" class="header__logo" id="logoLink">\n     <svg class="header__icon">\n        <use href="'.concat(e(i),'#icon-main-logo"></use>\n      </svg>\n      <span class="header__text">Filmoteka</span>\n    </a>\n    <nav>\n      <ul class="nav-list">\n        <li class="nav-list__item">\n          <a\n            class="nav-list__link nav-list__link--current"\n            href="#"\n            id="homeLink"\n            >Home</a\n          >\n        </li>\n        <li class="nav-list__item">\n          <a class="nav-list__link" href="#" id="libraryLink">My library</a>\n        </li>\n      </ul>\n    </nav>\n  </div>\n  <div class="search-form-wrap">\n    <form class="search-form" id="search-movie">\n      <input\n        class="search-form__input"\n        name="searchQuery"\n        type="text"\n        placeholder="Movie search"\n      />\n      <button class="search-form__button-submit" type="submit">\n       <svg width="12" height="12">\n          <use href="').concat(e(i),'#icon-search"></use>\n        </svg>\n      </button>\n    </form>\n  </div>\n  <p class="notification">\n    Search result is not successful. Enter the correct movie name and try again.\n  </p>\n'),t.classList.remove("additional-bg"),document.getElementById("libraryLink").addEventListener("click",j),document.getElementById("search-movie").addEventListener("submit",L)},k=function(t){t.preventDefault(),w()},E=function(){var t=document.querySelector(".header");t.innerHTML='<div class="nav-wrap additional-margin">\n    <a href="#" class="header__logo" id="logoLink">\n      <svg class="header__icon">\n        <use href="'.concat(e(i),'#icon-main-logo"></use>\n      </svg>\n      <span class="header__text">Filmoteka</span>\n    </a>\n    <nav>\n      <ul class="nav-list">\n        <li class="nav-list__item">\n          <a class="nav-list__link" href="#" id="homeLink">Home</a>\n        </li>\n        <li class="nav-list__item">\n          <a class="nav-list__link nav-list__link--current" href="#" id="libraryLink"\n            >My library</a\n          >\n        </li>\n      </ul>\n    </nav>\n  </div>\n  <ul class="button-list">\n    <li class="button-list__item">\n      <button class="button-list__btn button-list__btn--current" type="button">\n        Watched\n      </button>\n    </li>\n    <li class="button-list__item">\n      <button class="button-list__btn" type="button">Queue</button>\n    </li>\n  </ul>\n'),t.classList.add("additional-bg");var n=document.getElementById("homeLink"),r=document.getElementById("logoLink");n.addEventListener("click",k),r.addEventListener("click",k)};function x(t){return t.map((function(t){var e=t.poster_path,n=t.original_title,r=t.original_name,a=t.genres,o=t.release_date,i=t.first_air_date,c=t.vote_average,s=t.id,l=new Date(o||i).getFullYear(),u=n||r,d=c?c.toFixed(1):"N/A",h=a?a.slice(0,2).map((function(t){return t.name})):[];(a.length>2||0===a.length)&&h.push("Others");var f=h.join(", ");return'<li class="gallery__item card" data-id="'.concat(s,'">\n          <img\n            class="card__image"\n            src="https://image.tmdb.org/t/p/w500/').concat(e,'"\n            alt="poster"\n            loading="lazy"\n          />\n          <div class="card__info" >\n            <p class="card__title">').concat(u,'</p>\n            <div class="card__movie-info">\n              <p class="card__genre">').concat(f,'</p>\n              <span class="vertical">&nbsp|&nbsp</span>\n              <p class="card__release">').concat(l,'</p>\n              <p class="card__rating">').concat(d,"</p>\n            </div>\n          </div>\n      </li>")})).join("")}var S="watched-list",M="queue-list",q={getWatchedList:function(){try{return JSON.parse(localStorage.getItem(S))}catch(t){console.log(t)}},setWatchedList:function(t){localStorage.setItem(S,JSON.stringify(t))},getQueueList:function(){try{return JSON.parse(localStorage.getItem(M))}catch(t){console.log(t)}},setQueueList:function(t){localStorage.setItem(M,JSON.stringify(t))},isWatchedListEmpty:function(){var t=this.getWatchedList();return!t||0===t.length},isQueueListEmpty:function(){var t=this.getQueueList();return!t||0===t.length},isMovieInWatchedList:function(t){return!this.isWatchedListEmpty()&&!!this.getWatchedList().includes(t)},isMovieInQueueList:function(t){return!this.isQueueListEmpty()&&!!this.getQueueList().includes(t)},addMovieToWatchedList:function(t){if(this.isWatchedListEmpty())localStorage.setItem(S,JSON.stringify([t]));else{var e=this.getWatchedList();e.push(t),this.setWatchedList(e)}},addMovieToQueueList:function(t){if(this.isQueueListEmpty())localStorage.setItem(M,JSON.stringify([t]));else{var e=this.getQueueList();e.push(t),this.setQueueList(e)}},removeMovieFromWatchedList:function(t){var e=this.getWatchedList().filter((function(e){return e!==t}));this.setWatchedList(e)},removeMovieFromQueueList:function(t){var e=this.getQueueList().filter((function(e){return e!==t}));this.setQueueList(e)},clearWatchedList:function(){localStorage.removeItem(S)},clearQueueList:function(){localStorage.removeItem(M)}},O=new h;function T(){var t=document.querySelector(".gallery"),e=q.getQueueList();t.innerHTML="";var n=e.map((function(t){return O.fetchMovieDetails(t).catch((function(t){return console.log(t)}))}));Promise.all(n).then((function(e){var n=x(e);t.innerHTML=n})).catch((function(t){return console.log(t)}))}var j=function(t){t.preventDefault(),E(),T()},I=document.querySelector("#root"),Q=function(){var t='<header class="header container">\n  <div class="nav-wrap">\n    <a href="#" class="header__logo" id="logoLink">\n      <svg class="header__icon">\n        <use href="'.concat(e(i),'#icon-main-logo"></use>\n      </svg>\n      <span class="header__text">Filmoteka</span>\n    </a>\n    <nav>\n      <ul class="nav-list">\n        <li class="nav-list__item">\n          <a\n            class="nav-list__link nav-list__link--current"\n            href="#"\n            id="homeLink"\n            >Home</a\n          >\n        </li>\n        <li class="nav-list__item">\n          <a class="nav-list__link" href="#" id="libraryLink">My library</a>\n        </li>\n      </ul>\n    </nav>\n  </div>\n  <div class="search-form-wrap">\n    <form class="search-form" id="search-movie">\n      <input\n        class="search-form__input"\n        name="searchQuery"\n        type="text"\n        placeholder="Movie search"\n      />\n      <button class="search-form__button-submit" type="submit">\n        <svg width="12" height="12">\n          <use href="').concat(e(i),'#icon-search"></use>\n        </svg>\n      </button>\n    </form>\n  </div>\n  <p class="notification">\n    Search result is not successful. Enter the correct movie name and try again.\n  </p>\n</header>');I.insertAdjacentHTML("afterbegin",t),document.getElementById("libraryLink").addEventListener("click",j),document.getElementById("search-movie").addEventListener("submit",L)};var N={};function W(t,e,n,r,a,o,i){try{var c=t[o](i),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,a)}Object.defineProperty(N,"__esModule",{value:!0}),N.default=function(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(t){W(o,r,a,i,c,"next",t)}function c(t){W(o,r,a,i,c,"throw",t)}i(void 0)}))}};var H={},P=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var a=e&&e.prototype instanceof g?e:g,o=Object.create(a.prototype),i=new q(r||[]);return o._invoke=function(t,e,n){var r=d;return function(a,o){if(r===f)throw new Error("Generator is already running");if(r===v){if("throw"===a)throw o;return T()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=x(i,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var s=u(t,e,n);if("normal"===s.type){if(r=n.done?v:h,s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=v,n.method="throw",n.arg=s.arg)}}}(t,n,i),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var d="suspendedStart",h="suspendedYield",f="executing",v="completed",p={};function g(){}function m(){}function _(){}var y={};s(y,o,(function(){return this}));var b=Object.getPrototypeOf,L=b&&b(b(O([])));L&&L!==n&&r.call(L,o)&&(y=L);var w=_.prototype=g.prototype=Object.create(y);function k(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function n(a,o,i,c){var s=u(t[a],t,o);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(d).then((function(t){l.value=t,i(l)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}var a;this._invoke=function(t,r){function o(){return new e((function(e,a){n(t,r,e,a)}))}return a=a?a.then(o,o):o()}}function x(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method))return p;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var a=u(r,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,p;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function M(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function q(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function O(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}return{next:T}}function T(){return{value:e,done:!0}}return m.prototype=_,s(w,"constructor",_),s(_,"constructor",m),m.displayName=s(_,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,s(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},k(E.prototype),s(E.prototype,i,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new E(l(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},k(w),s(w,c,"Generator"),s(w,o,(function(){return this})),s(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=O,q.prototype={constructor:q,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(M),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return c.type="throw",c.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),M(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var a=r.arg;M(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:O(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),p}},t}(H);try{regeneratorRuntime=P}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=P:Function("r","regeneratorRuntime = r")(P)}function F(t){var n=t.poster_path,r=t.genres,a=void 0===r?[]:r,o=t.vote_count,c=t.vote_average,s=t.original_title,l=t.popularity,u=t.title,d=t.overview,h=a.map((function(t){return t.name}));return'<div class="modal">\n    <button class="modal__close" data-action="close-modal"><svg class="modal__close-icon" width="14" height="14">\n        <use href="'.concat(e(i),'#icon-close"></use>\n      </svg></button>\n \n      <img class="modal__img" src=').concat("https://image.tmdb.org/t/p/w500/").concat(n,' alt="poster" />\n  \n    <div class="modal__description-wrap">\n      <h2 class="modal__title">').concat(u,'</h2>\n      <table class="modal__info">\n  <tr>\n    <td class="modal__info-key">Vote/votes</td>\n    <td "modal__info-value">\n    <span class="modal__info-value--accent">').concat(c,'</span>\n     <span class="modal__info-value--slash">/ </span\n    ><span class="modal__info-value--grey">').concat(o,'</span>\n    </td>\n  </tr>\n  <tr>\n    <td class="modal__info-key">Popularity</td>\n    <td "modal__info-value">').concat(l,'</td>\n  </tr>\n  <tr>\n    <td class="modal__info-key">Original Title</td>\n    <td "modal__info-value">').concat(s,'</td>\n  </tr>\n  <tr>\n    <td class="modal__info-key">Genre</td>\n    <td "modal__info-value">').concat(h,'</td>\n  </tr>\n</table>\n    \n      <h3 class="modal__about-title">About</h3>\n      <p class="modal__about-text">\n        ').concat(d,'\n      </p>\n      <div class="modal__option">\n        <button class="btn-add-wached" data-action="add-wached">add to Watched</button>\n        <button class="btn-add-queue" data-action="add-queue">add to queue</button>\n      </div>\n    </div>\n  </div>')}function A(t){if("add-queue"===t.target.dataset.action){var e=document.querySelector(".btn-add-queue"),n=document.querySelector(".btn-add-wached"),r=t.currentTarget.getAttribute("id");if(q.isMovieInQueueList(r)?q.removeMovieFromQueueList(r):q.addMovieToQueueList(r),e.classList.toggle("isActive"),q.isMovieInQueueList(r)?e.textContent="delete to queue":e.textContent="add to queue",console.log(q.getQueueList()),!e.disabled&&!n.disabled)return n.disabled=!0;if(n.disabled)return n.disabled=!1}}function C(t){if("add-wached"===t.target.dataset.action){var e=document.querySelector(".btn-add-wached"),n=document.querySelector(".btn-add-queue"),r=t.currentTarget.getAttribute("id");if(q.isMovieInWatchedList(r)?q.removeMovieFromWatchedList(r):q.addMovieToWatchedList(r),e.classList.toggle("isActive"),q.isMovieInWatchedList(r)?e.textContent="delete to wached":e.textContent="add to watched",console.log(q.getWatchedList()),!n.disabled&&!e.disabled)return n.disabled=!0;if(n.disabled)return n.disabled=!1}}function D(){var t=document.querySelector(".backdrop");t.classList.remove("is-hidden"),document.addEventListener("keydown",R),t.addEventListener("click",B),t.addEventListener("click",A),t.addEventListener("click",C)}function G(){var t=document.querySelector(".backdrop");t.classList.add("is-hidden"),document.removeEventListener("keydown",R),t.removeEventListener("click",B),t.removeEventListener("click",A),t.removeEventListener("click",C)}function R(t){"Escape"===t.code&&G()}function B(t){"close-modal"!==t.target.dataset.action&&t.currentTarget!==t.target||G()}var J=new h;function U(t){return z.apply(this,arguments)}function z(){return(z=e(N)(e(H).mark((function t(n){var r,a,o,i;return e(H).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return document.querySelector(".backdrop").setAttribute("id",n),t.next=4,J.fetchMovieDetails(n);case 4:return r=t.sent,t.next=7,F(r);case 7:return a=t.sent,t.next=10,Y(a);case 10:o=document.querySelector(".btn-add-queue"),i=document.querySelector(".btn-add-wached"),q.isMovieInQueueList(n)&&(o.textContent="delete to queue",o.classList.toggle("isActive"),i.disabled=!0),q.isMovieInWatchedList(n)&&(i.textContent="delete to Wached",i.classList.toggle("isActive"),o.disabled=!0),D();case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Y(t){return V.apply(this,arguments)}function V(){return(V=e(N)(e(H).mark((function t(n){return e(H).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:document.querySelector(".backdrop").innerHTML=n;case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function $(t){return K.apply(this,arguments)}function K(){return(K=e(N)(e(H).mark((function t(n){var r;return e(H).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(document.querySelector(".backdrop"),document.querySelector(".backdrop"),!n.target.classList.contains("gallery__item")){t.next=6;break}return r=n.target.dataset.id,t.next=6,U(r);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var X=document.querySelector("#root");document.addEventListener("DOMContentLoaded",function(){Q(),X.insertAdjacentHTML("beforeend",'\n  <section class="section">\n  <div class="container">\n    <h2 class="visually-hidden">Gallery list</h2>\n    <ul class="gallery"></ul>\n    <div class="pagination">\n      \n    </div>\n  </div>\n</section>'),X.insertAdjacentHTML("beforeend",'<footer>\n  <div class="footer__container container">\n    <p class="footer__text">© 2020 | All Rights Reserved |</p>\n    <p class="footer__text">\n      Developed with<svg xmlns="http://www.w3.org/2000/svg" id="icon-heart" class="footer__icon" viewBox="0 0 34 32" width="14" height="13">\n      <path\n        d="M17.231 31.705l-2.412-2.412c-8.96-7.926-14.818-13.268-14.818-19.815 0-5.342 4.135-9.477 9.477-9.477 2.929 0 5.858 1.378 7.754 3.618 1.895-2.24 4.825-3.618 7.754-3.618 5.342 0 9.477 4.135 9.477 9.477 0 6.548-5.858 11.889-14.818 19.815l-2.412 2.412z"\n      ></path>\n    </svg>by\n      <button type="button" class="footer__button">GoIT Students</button>\n    </p>\n  </div>\n</footer>'),X.insertAdjacentHTML("beforeend",'<div class="backdrop is-hidden"></div>');document.querySelector(".gallery").addEventListener("click",$);g()}(),{once:!0})}();
//# sourceMappingURL=index.3170db81.js.map
