!function(){function e(e,n,t,r){Object.defineProperty(e,n,{get:t,set:r,enumerable:!0,configurable:!0})}function n(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},i={},a=t.parcelRequire62bd;null==a&&((a=function(e){if(e in r)return r[e].exports;if(e in i){var n=i[e];delete i[e];var t={id:e,exports:{}};return r[e]=t,n.call(t.exports,t,t.exports),t.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,n){i[e]=n},t.parcelRequire62bd=a),a.register("iE7OH",(function(n,t){var r,i;e(n.exports,"register",(function(){return r}),(function(e){return r=e})),e(n.exports,"resolve",(function(){return i}),(function(e){return i=e}));var a={};r=function(e){for(var n=Object.keys(e),t=0;t<n.length;t++)a[n[t]]=e[n[t]]},i=function(e){var n=a[e];if(null==n)throw new Error("Could not resolve bundle with id "+e);return n}})),a.register("8MBJY",(function(e,n){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}})),a.register("a2hTj",(function(e,n){"use strict";function t(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,n,r){n&&t(e.prototype,n);r&&t(e,r);return e}})),a.register("bpxeT",(function(e,n){"use strict";function t(e,n,t,r,i,a,o){try{var c=e[a](o),s=c.value}catch(e){return void t(e)}c.done?n(s):Promise.resolve(s).then(r,i)}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){return function(){var n=this,r=arguments;return new Promise((function(i,a){var o=e.apply(n,r);function c(e){t(o,i,a,c,s,"next",e)}function s(e){t(o,i,a,c,s,"throw",e)}c(void 0)}))}}})),a.register("2TvXO",(function(e,n){var t=function(e){"use strict";var n,t=Object.prototype,r=t.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,n,t){return Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[n]}try{s({},"")}catch(e){s=function(e,n,t){return e[n]=t}}function l(e,n,t,r){var i=n&&n.prototype instanceof g?n:g,a=Object.create(i.prototype),o=new T(r||[]);return a._invoke=function(e,n,t){var r=f;return function(i,a){if(r===h)throw new Error("Generator is already running");if(r===v){if("throw"===i)throw a;return M()}for(t.method=i,t.arg=a;;){var o=t.delegate;if(o){var c=E(o,t);if(c){if(c===p)continue;return c}}if("next"===t.method)t.sent=t._sent=t.arg;else if("throw"===t.method){if(r===f)throw r=v,t.arg;t.dispatchException(t.arg)}else"return"===t.method&&t.abrupt("return",t.arg);r=h;var s=u(e,n,t);if("normal"===s.type){if(r=t.done?v:d,s.arg===p)continue;return{value:s.arg,done:t.done}}"throw"===s.type&&(r=v,t.method="throw",t.arg=s.arg)}}}(e,t,o),a}function u(e,n,t){try{return{type:"normal",arg:e.call(n,t)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var f="suspendedStart",d="suspendedYield",h="executing",v="completed",p={};function g(){}function m(){}function y(){}var _={};s(_,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(O([])));w&&w!==t&&r.call(w,a)&&(_=w);var k=y.prototype=g.prototype=Object.create(_);function L(e){["next","throw","return"].forEach((function(n){s(e,n,(function(e){return this._invoke(n,e)}))}))}function x(e,n){function t(i,a,o,c){var s=u(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?n.resolve(f.__await).then((function(e){t("next",e,o,c)}),(function(e){t("throw",e,o,c)})):n.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return t("throw",e,o,c)}))}c(s.arg)}var i;this._invoke=function(e,r){function a(){return new n((function(n,i){t(e,r,n,i)}))}return i=i?i.then(a,a):a()}}function E(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,E(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var i=u(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,p;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,p):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function j(e){var n={tryLoc:e[0]};1 in e&&(n.catchLoc=e[1]),2 in e&&(n.finallyLoc=e[2],n.afterLoc=e[3]),this.tryEntries.push(n)}function S(e){var n=e.completion||{};n.type="normal",delete n.arg,e.completion=n}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function O(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function t(){for(;++i<e.length;)if(r.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=n,t.done=!0,t};return o.next=o}}return{next:M}}function M(){return{value:n,done:!0}}return m.prototype=y,s(k,"constructor",y),s(y,"constructor",m),m.displayName=s(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===m||"GeneratorFunction"===(n.displayName||n.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,s(e,c,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},L(x.prototype),s(x.prototype,o,(function(){return this})),e.AsyncIterator=x,e.async=function(n,t,r,i,a){void 0===a&&(a=Promise);var o=new x(l(n,t,r,i),a);return e.isGeneratorFunction(t)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},L(k),s(k,c,"Generator"),s(k,a,(function(){return this})),s(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var n=[];for(var t in e)n.push(t);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=O,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(r,i){return c.type="throw",c.arg=e,t.next=r,i&&(t.method="next",t.arg=n),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],c=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,n){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=n,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(e,n){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&n&&(this.next=n),p},finish:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),S(t),p}},catch:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.tryLoc===e){var r=t.completion;if("throw"===r.type){var i=r.arg;S(t)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),p}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})),a.register("aNJCr",(function(n,t){var r;e(n.exports,"getBundleURL",(function(){return r}),(function(e){return r=e}));var i={};function a(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}r=function(e){var n=i[e];return n||(n=function(){try{throw new Error}catch(n){var e=(""+n.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(e)return a(e[2])}return"/"}(),i[e]=n),n}})),a("iE7OH").register(JSON.parse('{"EVgbq":"index.135a83ce.js","kR2gs":"poster.eca3a33b.jpg","ee16w":"sprite.47a876e0.svg","5UbS1":"index.ee55eba9.css"}'));var o=a("8MBJY"),c=a("a2hTj"),s="https://api.themoviedb.org/3",l="81f57ce8a5863d84fdab7c29ba0c37c2",u=function(){"use strict";function e(){n(o)(this,e),this.searchQuery="",this.page=1,this.searchId="66732"}return n(c)(e,[{key:"fetchGenres",value:function(e){var n="".concat(s,"/genre/").concat(e,"/list?api_key=").concat(l,"&language=en-US");return fetch(n).then((function(e){return e.json()}))}},{key:"fetchTrending",value:function(){var e="".concat(s,"/trending/all/day?api_key=").concat(l,"&page=").concat(this.page);return fetch(e).then((function(e){return e.json()}))}},{key:"fetchSearchMovie",value:function(){var e="".concat(s,"/search/movie?api_key=").concat(l,"&language=en-US&query=").concat(this.searchQuery,"&page=").concat(this.page,"&include_adult=false");return fetch(e).then((function(e){return e.json()}))}},{key:"fetchMovieDetails",value:function(e){var n="".concat(s,"/movie/").concat(e,"?api_key=").concat(l,"&language=en-US");return fetch(n).then((function(e){return e.json()}))}},{key:"incrementPage",value:function(){this.page+=1}},{key:"pageNumber",set:function(e){this.page=e}},{key:"resetPage",value:function(){this.page=1}},{key:"query",get:function(){return this.searchQuery},set:function(e){this.searchQuery=e}},{key:"movieId",get:function(){return this.searchId},set:function(e){this.searchId=e}}]),e}(),f={searchInput:document.querySelector("#search-movie"),backdrop:document.querySelector(".backdrop"),galleryList:document.querySelector(".gallery"),openTeamModalBtn:document.querySelector(".footer__button"),closeTeamModalBtn:document.querySelector(".team-modal__btn-close"),backdropTeamModal:document.querySelector(".backdrop__team-modal")},d=(a("bpxeT"),a("2TvXO"),new u),h=function(e){e.preventDefault(),d.query=e.currentTarget.elements.searchQuery.value.trim(),""===d.searchQuery?console.log("Пустий пошук"):(d.resetPage(),d.fetchSearchMovie().then(console.log))};var v="https://image.tmdb.org/t/p/w500/",p=new u;p.fetchTrending().then((function(e){var n=e.results;console.log(e),Promise.all([p.fetchGenres("movie"),p.fetchGenres("tv")]).then((function(e){var t=e.map((function(e){return e.genres})),r=[].concat.apply([],t),i=new Map(r.map((function(e){return[e.id,e.name]})));!function(e,n){console.log(e),console.log(n);var t=e.map((function(e){var t=e.poster_path,r=e.original_title,i=e.original_name,a=e.genre_ids,o=e.release_date,c=e.first_air_date,s=e.vote_average,l=e.id,u=r||i,f=(o||c).split("-")[0];console.log(f),console.log(a);var d=a.slice(0,2).map((function(e){return n.get(e)}));a.length>2&&d.push("others");var h=d.join(", ");console.log(h);var p=s.toFixed(1);return'<li class="gallery__item card" data-id="'.concat(l,'">\n          <img\n            class="card__image"\n            src="').concat(v).concat(t,'"\n            alt="poster"\n            loading="lazy"\n          />\n          <div class="card__info" >\n            <p class="card__title">').concat(u,'</p>\n            <div class="card__movie-info">\n              <p class="card__genre">').concat(h,'</p>\n              <span class="vertical">&nbsp|&nbsp</span>\n              <p class="card__release">').concat(f,'</p>\n              <p class="card__rating">').concat(p,"</p>\n            </div>\n          </div>\n      </li>")})).join("");f.galleryList.insertAdjacentHTML("beforeend",t),console.log(t)}(n,i)})).catch((function(e){console.log(e)}))}));var g;g=a("aNJCr").getBundleURL("EVgbq")+a("iE7OH").resolve("kR2gs");var m=document.querySelector(".gallery"),y=(document.querySelector(".gallery-button-list"),[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]),_=function(){var e=y.map((function(e){return'<li class="gallery__item card">\n<a href="" class="card__link">\n  <img\n    class="card__image"\n    src="'.concat(n(g),'"\n    alt=""\n    loading="lazy"\n  />\n  <div class="card__info">\n    <p class="card__title">A FISTFUL OF LEAD</p>\n    <div class="card__movie-info">\n      <p class="card__genre">Western</p>\n      <span class="vertical">&nbsp|&nbsp</span>\n      <p class="card__release">2019</p>\n      <p class="card__rating">7.3</p>\n    </div>\n  </div>\n</a>\n</li>')})).join("");m.insertAdjacentHTML("beforeend",e)};_();o=a("8MBJY"),c=a("a2hTj");var b,w=function(){"use strict";function e(){n(o)(this,e),this.markup='<div class="spiner__holder is-hidden">\n      <div class="lds-spinner">\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <p class="spiner__text">Please stand by</p>\n        </div>\n    </div>'}return n(c)(e,[{key:"insertIn",value:function(e){e.insertAdjacentHTML("beforeend",this.markup)}},{key:"off",value:function(){document.querySelector(".spiner__holder").classList.add("is-hidden")}},{key:"on",value:function(){document.querySelector(".spiner__holder").classList.remove("is-hidden")}}]),e}();b=a("aNJCr").getBundleURL("EVgbq")+a("iE7OH").resolve("ee16w");var k,L=function(){var e=document.querySelector(".header");e.innerHTML='<div class="nav-wrap">\n    <a href="#" class="header__logo" id="logoLink">\n     <svg class="header__icon">\n        <use href="'.concat(n(b),'#icon-main-logo"></use>\n      </svg>\n      <span class="header__text">Filmoteka</span>\n    </a>\n    <nav>\n      <ul class="nav-list">\n        <li class="nav-list__item">\n          <a\n            class="nav-list__link nav-list__link--current"\n            href="#"\n            id="homeLink"\n            >Home</a\n          >\n        </li>\n        <li class="nav-list__item">\n          <a class="nav-list__link" href="#" id="libraryLink">My library</a>\n        </li>\n      </ul>\n    </nav>\n  </div>\n  <div class="search-form-wrap">\n    <form class="search-form" id="search-movie">\n      <input\n        class="search-form__input"\n        name="searchQuery"\n        type="text"\n        placeholder="Movie search"\n      />\n      <button class="search-form__button-submit" type="submit">\n       <svg width="12" height="12">\n          <use href="./images/sprite.svg#icon-search"></use>\n        </svg>\n      </button>\n    </form>\n  </div>\n  <p class="notification">\n    Search result is not successful. Enter the correct movie name and try again.\n  </p>\n'),e.classList.remove("additional-bg"),document.getElementById("libraryLink").addEventListener("click",j),document.getElementById("search-movie").addEventListener("submit",h)},x=function(e){e.preventDefault(),L()},E=function(){var e=document.querySelector(".header");e.innerHTML='<div class="nav-wrap additional-margin">\n    <a href="#" class="header__logo" id="logoLink">\n      <svg class="header__icon">\n        <use href="'.concat(n(b),'#icon-main-logo"></use>\n      </svg>\n      <span class="header__text">Filmoteka</span>\n    </a>\n    <nav>\n      <ul class="nav-list">\n        <li class="nav-list__item">\n          <a class="nav-list__link" href="#" id="homeLink">Home</a>\n        </li>\n        <li class="nav-list__item">\n          <a class="nav-list__link nav-list__link--current" href="#" id="libraryLink"\n            >My library</a\n          >\n        </li>\n      </ul>\n    </nav>\n  </div>\n  <ul class="button-list">\n    <li class="button-list__item">\n      <button class="button-list__btn button-list__btn--current" type="button">\n        Watched\n      </button>\n    </li>\n    <li class="button-list__item">\n      <button class="button-list__btn" type="button">Queue</button>\n    </li>\n  </ul>\n'),e.classList.add("additional-bg");var t=document.getElementById("homeLink"),r=document.getElementById("logoLink");t.addEventListener("click",x),r.addEventListener("click",x)},j=function(e){e.preventDefault(),E()};new w;k='<header class="header container">\n  <div class="nav-wrap">\n    <a href="#" class="header__logo" id="logoLink">\n      <svg class="header__icon">\n        <use href="'.concat(n(b),'#icon-main-logo"></use>\n      </svg>\n      <span class="header__text">Filmoteka</span>\n    </a>\n    <nav>\n      <ul class="nav-list">\n        <li class="nav-list__item">\n          <a\n            class="nav-list__link nav-list__link--current"\n            href="#"\n            id="homeLink"\n            >Home</a\n          >\n        </li>\n        <li class="nav-list__item">\n          <a class="nav-list__link" href="#" id="libraryLink">My library</a>\n        </li>\n      </ul>\n    </nav>\n  </div>\n  <div class="search-form-wrap">\n    <form class="search-form" id="search-movie">\n      <input\n        class="search-form__input"\n        name="searchQuery"\n        type="text"\n        placeholder="Movie search"\n      />\n      <button class="search-form__button-submit" type="submit">\n        <svg width="12" height="12">\n          <use href="').concat(n(b),'#icon-search"></use>\n        </svg>\n      </button>\n    </form>\n  </div>\n  <p class="notification">\n    Search result is not successful. Enter the correct movie name and try again.\n  </p>\n</header>'),document.body.insertAdjacentHTML("afterbegin",k),document.getElementById("libraryLink").addEventListener("click",j),document.getElementById("search-movie").addEventListener("submit",h)}();
//# sourceMappingURL=index.135a83ce.js.map
