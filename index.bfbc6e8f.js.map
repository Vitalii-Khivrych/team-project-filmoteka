{"mappings":"iiBACA,IAAAA,EAAAC,EAAA,S;;;;;;;;;;;;;;;;;8EAUMC,EAAiBC,SAASC,eAAe,YACzCC,EAAkBF,SAASC,eAAe,aAC1CE,EAAsBH,SAASC,eAAe,WAC9CG,EAAuBJ,SAASC,eAAe,YAGrDG,EAAqBC,iBAAiB,SA0BtC,YACE,EAAAC,EAAAC,UAAQ,EAAAD,EAAAE,eA1BVL,EAAoBE,iBAAiB,S,kBAgBtBI,EAAMC,MAAAC,KAAAC,eAHT,EAAAC,EAAAC,eAVW,CACrBC,OAAQ,0CACRC,WAAY,kCACZC,YAAa,yEACbC,UAAW,kBACXC,cAAe,8BACfC,kBAAmB,eACnBC,MAAO,4CACPC,cAAe,iB,SAKFb,I,OAAAA,EAAfc,EAAA1B,EAAA,CAAA0B,EAAAC,GAAAC,MAAA,SAAAC,I,IAEcC,E,kFAAAA,EAAW,IAAI,EAAArB,EAAAsB,oB,UACrB,EAAAtB,EAAAuB,kBAAgB,EAAAvB,EAAAE,WAAWmB,G,sDAE3BG,QAAQC,IAAGC,EAAAC,I,yDALEvB,MAAAC,KAAAC,WAmBmD,SAA/DsB,EAAkBC,GACzB,GAAIA,EAAM,CAEgB,IAAlBC,GAkCD,EAAA9B,EAAAE,WAAU6B,YAAYC,UAAY,gDAjCjCC,GAsCD,EAAAjC,EAAAE,WAAU6B,YAAYG,YApC3BzC,EAAe0C,MAAMC,gBACnB,UAuByC,KADZC,EAtBMP,GAuB/BQ,QAAQ,2BAAwD,IAArBD,EAAIC,QAAQ,KACtDD,EAAM,UAERA,GA1BiD,KACtDzC,EAAgB2C,YAAcN,EAG0BrC,EAAxC4C,gBAAgB,UAChC/C,EAAe+C,gBAAgB,UAC/B1C,EAAqB0C,gBAAgB,UAGV3C,EAAP4C,aAAa,SAAU,aAIpB7C,EAAP6C,aAAa,SAAU,QACvChD,EAAegD,aAAa,SAAU,QACtC3C,EAAqB2C,aAAa,SAAU,QAGjB5C,EAAP2C,gBAAgB,UAIxC,IAAmCH,GAjCjC,EAAArC,EAAA0C,qBAAmB,EAAA1C,EAAAE,WAAW0B,G","sources":["src/js/firebase.js"],"sourcesContent":["\nimport {\n  getAuth,\n  onAuthStateChanged,\n  GoogleAuthProvider,\n  signInWithPopup,\n  signOut,\n} from 'firebase/auth';\nimport { initializeApp } from \"firebase/app\";\n\n\nconst userPicElement = document.getElementById('user-pic');\nconst userNameElement = document.getElementById('user-name');\nconst signInButtonElement = document.getElementById('sign-in');\nconst signOutButtonElement = document.getElementById('sign-out');\n\n\nsignOutButtonElement.addEventListener('click', signOutUser);\nsignInButtonElement.addEventListener('click', signIn);\n\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyD97IsDjK-7IAttx0i6Aam0sN8iE_LfeLk\",\n  authDomain: \"filmoteka-9c8eb.firebaseapp.com\",\n  databaseURL: \"https://filmoteka-9c8eb-default-rtdb.europe-west1.firebasedatabase.app\",\n  projectId: \"filmoteka-9c8eb\",\n  storageBucket: \"filmoteka-9c8eb.appspot.com\",\n  messagingSenderId: \"661633585171\",\n  appId: \"1:661633585171:web:5eac125f261ab9e0712fe6\",\n  measurementId: \"G-BYWLPZ81KP\"\n};\nconst app = initializeApp(firebaseConfig);\n\n\nasync function signIn() {\n    try {\n        const provider = new GoogleAuthProvider();\n  await signInWithPopup(getAuth(), provider);\n    } catch (error) {\n        console.log(error);\n    }\n}\n\nfunction signOutUser() {\n  signOut(getAuth());\n  \n}\n\nfunction initFirebaseAuth() {\n  onAuthStateChanged(getAuth(), authStateObserver);\n}\n\n// Запускаємо рендер зображення користувача згідно його статусу - зареєстрований чи ні\nfunction authStateObserver(user) {\n  if (user) {\n    // Користувач зареєстрований\n    const profilePicUrl = getProfilePicUrl();\n    const userName = getUserName();\n\n    userPicElement.style.backgroundImage =\n      'url(' + addSizeToGoogleProfilePic(profilePicUrl) + ')';\n    userNameElement.textContent = userName;\n\n    // Показуємо дані користувача та відкриваємо кнопку разлогінитись\n    userNameElement.removeAttribute('hidden');\n    userPicElement.removeAttribute('hidden');\n    signOutButtonElement.removeAttribute('hidden');\n\n    // Скриваємо кнопку залогінитись\n    signInButtonElement.setAttribute('hidden', 'true');\n\n  } else {\n    // Користувач не залогінився\n    userNameElement.setAttribute('hidden', 'true');\n    userPicElement.setAttribute('hidden', 'true');\n    signOutButtonElement.setAttribute('hidden', 'true');\n\n    // Показуємо кнопку залогінитись\n    signInButtonElement.removeAttribute('hidden');\n  }\n}\n\nfunction addSizeToGoogleProfilePic(url) {\n  if (url.indexOf('googleusercontent.com') !== -1 && url.indexOf('?') === -1) {\n    return url + '?sz=150';\n  }\n  return url;\n}\n// Отримуємо фото зареєстрованого користувача\nfunction getProfilePicUrl() {\n  return getAuth().currentUser.photoURL || './images/free-icon-delete-account-7084160.png';\n}\n\n// Отримуємо displayName зареєстрованого користувача\nfunction getUserName() {\n  return getAuth().currentUser.displayName;\n}\n\ninitFirebaseAuth();\n\nexport {signIn}"],"names":["$bpxeT","parcelRequire","$db0a627a18027f51$var$userPicElement","document","getElementById","$db0a627a18027f51$var$userNameElement","$db0a627a18027f51$var$signInButtonElement","$db0a627a18027f51$var$signOutButtonElement","addEventListener","$3SEMc","signOut","getAuth","$db0a627a18027f51$var$_signIn","apply","this","arguments","$MjY8E","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","$parcel$interopDefault","$2TvXO","mark","_callee","provider","GoogleAuthProvider","signInWithPopup","console","log","_ctx","t0","$db0a627a18027f51$var$authStateObserver","user","profilePicUrl","currentUser","photoURL","userName","displayName","style","backgroundImage","url","indexOf","textContent","removeAttribute","setAttribute","onAuthStateChanged"],"version":3,"file":"index.bfbc6e8f.js.map"}