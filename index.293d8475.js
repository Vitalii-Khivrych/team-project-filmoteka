function e(e,n,t,r){Object.defineProperty(e,n,{get:t,set:r,enumerable:!0,configurable:!0})}function n(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},a={},s=t.parcelRequire62bd;null==s&&((s=function(e){if(e in r)return r[e].exports;if(e in a){var n=a[e];delete a[e];var t={id:e,exports:{}};return r[e]=t,n.call(t.exports,t,t.exports),t.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,n){a[e]=n},t.parcelRequire62bd=s),s.register("kyEFX",(function(n,t){var r,a;e(n.exports,"register",(function(){return r}),(function(e){return r=e})),e(n.exports,"resolve",(function(){return a}),(function(e){return a=e}));var s={};r=function(e){for(var n=Object.keys(e),t=0;t<n.length;t++)s[n[t]]=e[n[t]]},a=function(e){var n=s[e];if(null==n)throw new Error("Could not resolve bundle with id "+e);return n}})),s("kyEFX").register(JSON.parse('{"5ZPII":"index.293d8475.js","2L4JT":"poster.eca3a33b.jpg","5UbS1":"index.ee55eba9.css"}'));class i{fetchGenres(e){return fetch(`https://api.themoviedb.org/3/genre/${e}/list?api_key=81f57ce8a5863d84fdab7c29ba0c37c2&language=en-US`).then((e=>e.json()))}fetchTrending(){const e=`https://api.themoviedb.org/3/trending/all/day?api_key=81f57ce8a5863d84fdab7c29ba0c37c2&page=${this.page}`;return fetch(e).then((e=>e.json()))}fetchSearchMovie(){const e=`https://api.themoviedb.org/3/search/movie?api_key=81f57ce8a5863d84fdab7c29ba0c37c2&language=en-US&query=${this.searchQuery}&page=${this.page}&include_adult=false`;return fetch(e).then((e=>e.json()))}fetchMovieDetails(e){return fetch(`https://api.themoviedb.org/3/movie/${e}?api_key=81f57ce8a5863d84fdab7c29ba0c37c2&language=en-US`).then((e=>e.json()))}incrementPage(){this.page+=1}set pageNumber(e){this.page=e}resetPage(){this.page=1}get query(){return this.searchQuery}set query(e){this.searchQuery=e}get movieId(){return this.searchId}set movieId(e){this.searchId=e}constructor(){this.searchQuery="",this.page=1,this.searchId="66732"}}var o={searchInput:document.querySelector("#search-movie"),backdrop:document.querySelector(".backdrop"),galleryList:document.querySelector(".gallery"),openTeamModalBtn:document.querySelector(".footer__button"),closeTeamModalBtn:document.querySelector(".team-modal__btn-close"),backdropTeamModal:document.querySelector(".backdrop__team-modal")};const c=new i;c.fetchTrending().then((function(e){const n=e.results;console.log(e),Promise.all([c.fetchGenres("movie"),c.fetchGenres("tv")]).then((e=>{const t=e.map((e=>e.genres)),r=[].concat.apply([],t),a=new Map(r.map((e=>[e.id,e.name])));!function(e,n){console.log(e),console.log(n);const t=e.map((({poster_path:e,original_title:t,original_name:r,genre_ids:a,release_date:s,first_air_date:i,vote_average:o,id:c})=>{const d=t||r,l=(s||i).split("-")[0];console.log(l),console.log(a);const p=a.slice(0,2).map((e=>n.get(e)));a.length>2&&p.push("others");const u=p.join(", ");console.log(u);return`<li class="gallery__item card" data-id="${c}">\n          <img\n            class="card__image"\n            src="https://image.tmdb.org/t/p/w500/${e}"\n            alt="poster"\n            loading="lazy"\n          />\n          <div class="card__info" >\n            <p class="card__title">${d}</p>\n            <div class="card__movie-info">\n              <p class="card__genre">${u}</p>\n              <span class="vertical">&nbsp|&nbsp</span>\n              <p class="card__release">${l}</p>\n              <p class="card__rating">${o.toFixed(1)}</p>\n            </div>\n          </div>\n      </li>`})).join("");o.galleryList.insertAdjacentHTML("beforeend",t),console.log(t)}(n,a)})).catch((e=>{console.log(e)}))}));var d;d=new URL(s("kyEFX").resolve("2L4JT"),import.meta.url).toString();const l=document.querySelector(".gallery"),p=(document.querySelector(".gallery-button-list"),[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]),u=()=>{const e=p.map((e=>`<li class="gallery__item card">\n<a href="" class="card__link">\n  <img\n    class="card__image"\n    src="${n(d)}"\n    alt=""\n    loading="lazy"\n  />\n  <div class="card__info">\n    <p class="card__title">A FISTFUL OF LEAD</p>\n    <div class="card__movie-info">\n      <p class="card__genre">Western</p>\n      <span class="vertical">&nbsp|&nbsp</span>\n      <p class="card__release">2019</p>\n      <p class="card__rating">7.3</p>\n    </div>\n  </div>\n</a>\n</li>`)).join("");l.insertAdjacentHTML("beforeend",e)};u();new class{insertIn(e){e.insertAdjacentHTML("beforeend",this.markup)}off(){document.querySelector(".spiner__holder").classList.add("is-hidden")}on(){document.querySelector(".spiner__holder").classList.remove("is-hidden")}constructor(){this.markup='<div class="spiner__holder is-hidden">\n      <div class="lds-spinner">\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <p class="spiner__text">Please stand by</p>\n        </div>\n    </div>'}},new i;
//# sourceMappingURL=index.293d8475.js.map
