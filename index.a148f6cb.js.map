{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-21a70f4e2194ae0a.js","node_modules/@parcel/runtime-js/lib/runtime-643dfc921be0cb37.js","src/js/api-service.js","src/js/handlers/onSearchMovie.js","src/js/templates/header/renderHomeHeader.js","src/js/templates/header/createHeaderHomeMarkup.js","src/js/handlers/onHomeLinkClick.js","src/js/templates/header/renderLibraryHeader.js","src/js/templates/header/createHeaderLibraryMarkup.js","src/js/handlers/onLibraryLinkClick.js","src/js/templates/header/initHeader.js","src/js/templates/header/createInitialHeaderMarkup.js","src/js/templates/render-popular-card.js","src/js/templates/paginationMarkup.js","src/js/createPaginationBtn.js","src/js/handlers/handlerResponse.js","src/js/createTrandingMovieCars.js","src/js/templates/modalCardMarkap.js","src/js/handlers/localStorageOptions.js","src/js/handlers/modalCardOptions.js","src/js/renderModalCard.js","src/js/handlers/onModalCardHandlers.js","src/index.js","src/js/templates/render-basic-gallery.js","src/js/templates/render-footer.js","src/js/templates/render-backdrop.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"5ZPII\\\":\\\"index.a148f6cb.js\\\",\\\"lp5u4\\\":\\\"sprite.47a876e0.svg\\\",\\\"5UbS1\\\":\\\"index.aecc63e8.css\\\"}\"));","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"lp5u4\")).toString();","const BASE_URL = 'https://api.themoviedb.org/3';\nconst KEY = '81f57ce8a5863d84fdab7c29ba0c37c2';\n\nexport default class ApiService {\n  constructor() {\n    this.searchQuery = '';\n    this.page = 1;\n    this.searchId = '66732';\n  }\n\n  fetchGenres(type) {\n    const url = `${BASE_URL}/genre/${type}/list?api_key=${KEY}&language=en-US`;\n    return fetch(url).then(res => res.json());\n  }\n\n  fetchTrending() {\n    const url = `${BASE_URL}/trending/movie/day?api_key=${KEY}&page=${this.page}`;\n\n    return fetch(url).then(res => res.json());\n  }\n\n  fetchSearchMovie() {\n    const url = `${BASE_URL}/search/movie?api_key=${KEY}&language=en-US&query=${this.searchQuery}&page=${this.page}&include_adult=false`;\n\n    return fetch(url).then(res => res.json());\n  }\n\n  fetchMovieDetails(movieId) {\n    const url = `${BASE_URL}/movie/${movieId}?api_key=${KEY}&language=en-US`;\n\n    return fetch(url).then(res => res.json());\n  }\n\n  incrementPage() {\n    this.page += 1;\n  }\n\n  decrementPage() {\n    this.page -= 1;\n  }\n\n  get pageNumber() {\n    return this.page;\n  }\n\n  set pageNumber(number) {\n    this.page = number;\n  }\n\n  resetPage() {\n    this.page = 1;\n  }\n\n  get query() {\n    return this.searchQuery;\n  }\n\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n\n  get movieId() {\n    return this.searchId;\n  }\n\n  set movieId(newId) {\n    this.searchId = newId;\n  }\n}\n\n//\n","import Api from '../api-service';\n\nconst appService = new Api();\n\nconst onSearchMovie = e => {\n  e.preventDefault();\n\n  appService.query = e.currentTarget.elements.searchQuery.value.trim();\n\n  const isEmptySearch = appService.searchQuery === '';\n\n  if (isEmptySearch) {\n    console.log('Пустий пошук');\n    //Зробити повідомлення про пустий пошук\n    return;\n  }\n\n  appService.resetPage();\n  appService.fetchSearchMovie().then(console.log);\n};\n\nexport { onSearchMovie, appService };\n","import createHeaderHomeMarkup from './createHeaderHomeMarkup';\nimport { onLibraryLinkClick } from '../../handlers/onLibraryLinkClick';\nimport { onSearchMovie } from '../../handlers/onSearchMovie';\n\nconst renderHomeHeader = () => {\n  const headerElement = document.querySelector('.header');\n\n  headerElement.innerHTML = createHeaderHomeMarkup();\n  headerElement.classList.remove('additional-bg');\n\n  const libraryLink = document.getElementById('libraryLink');\n  libraryLink.addEventListener('click', onLibraryLinkClick);\n\n  const searchInput = document.getElementById('search-movie');\n  searchInput.addEventListener('submit', onSearchMovie);\n};\n\nexport { renderHomeHeader };\n","import icon from '../../../images/sprite.svg';\n\nexport default function createHeaderHomeMarkup() {\n  return `<div class=\"nav-wrap\">\n    <a href=\"#\" class=\"header__logo\" id=\"logoLink\">\n     <svg class=\"header__icon\">\n        <use href=\"${icon}#icon-main-logo\"></use>\n      </svg>\n      <span class=\"header__text\">Filmoteka</span>\n    </a>\n    <nav>\n      <ul class=\"nav-list\">\n        <li class=\"nav-list__item\">\n          <a\n            class=\"nav-list__link nav-list__link--current\"\n            href=\"#\"\n            id=\"homeLink\"\n            >Home</a\n          >\n        </li>\n        <li class=\"nav-list__item\">\n          <a class=\"nav-list__link\" href=\"#\" id=\"libraryLink\">My library</a>\n        </li>\n      </ul>\n    </nav>\n  </div>\n  <div class=\"search-form-wrap\">\n    <form class=\"search-form\" id=\"search-movie\">\n      <input\n        class=\"search-form__input\"\n        name=\"searchQuery\"\n        type=\"text\"\n        placeholder=\"Movie search\"\n      />\n      <button class=\"search-form__button-submit\" type=\"submit\">\n       <svg width=\"12\" height=\"12\">\n          <use href=\"${icon}#icon-search\"></use>\n        </svg>\n      </button>\n    </form>\n  </div>\n  <p class=\"notification\">\n    Search result is not successful. Enter the correct movie name and try again.\n  </p>\n`;\n}\n","import { renderHomeHeader } from '../templates/header/renderHomeHeader';\n\nconst onHomeLinkClick = event => {\n  event.preventDefault();\n\n  renderHomeHeader();\n};\n\nexport { onHomeLinkClick };\n","import createHeaderLibraryMarkup from './createHeaderLibraryMarkup';\nimport { onHomeLinkClick } from '../../handlers/onHomeLinkClick';\n\nconst renderLibraryHeader = () => {\n  const headerElement = document.querySelector('.header');\n\n  headerElement.innerHTML = createHeaderLibraryMarkup();\n  headerElement.classList.add('additional-bg');\n\n  const homeLink = document.getElementById('homeLink');\n  const logoLink = document.getElementById('logoLink');\n  homeLink.addEventListener('click', onHomeLinkClick);\n  logoLink.addEventListener('click', onHomeLinkClick);\n};\n\nexport { renderLibraryHeader };\n","import icon from '../../../images/sprite.svg';\n\nexport default function createHeaderLibraryMarkup() {\n  return `<div class=\"nav-wrap additional-margin\">\n    <a href=\"#\" class=\"header__logo\" id=\"logoLink\">\n      <svg class=\"header__icon\">\n        <use href=\"${icon}#icon-main-logo\"></use>\n      </svg>\n      <span class=\"header__text\">Filmoteka</span>\n    </a>\n    <nav>\n      <ul class=\"nav-list\">\n        <li class=\"nav-list__item\">\n          <a class=\"nav-list__link\" href=\"#\" id=\"homeLink\">Home</a>\n        </li>\n        <li class=\"nav-list__item\">\n          <a class=\"nav-list__link nav-list__link--current\" href=\"#\" id=\"libraryLink\"\n            >My library</a\n          >\n        </li>\n      </ul>\n    </nav>\n  </div>\n  <ul class=\"button-list\">\n    <li class=\"button-list__item\">\n      <button class=\"button-list__btn button-list__btn--current\" type=\"button\">\n        Watched\n      </button>\n    </li>\n    <li class=\"button-list__item\">\n      <button class=\"button-list__btn\" type=\"button\">Queue</button>\n    </li>\n  </ul>\n`;\n}\n","import { renderLibraryHeader } from '../templates/header/renderLibraryHeader';\n\nconst onLibraryLinkClick = event => {\n  event.preventDefault();\n\n  renderLibraryHeader();\n};\n\nexport { onLibraryLinkClick };\n","import createInitialHeaderMarkup from './createInitialHeaderMarkup';\nimport { onLibraryLinkClick } from '../../handlers/onLibraryLinkClick';\nimport { onSearchMovie } from '../../handlers/onSearchMovie';\n\n// после инициализации блок header остается и рендеририться будет только разметка внутри\n// оставляю фиксированный блок для того, чтобы при переходе на другие страницы, не прыгала разметка\nconst rootRef = document.querySelector('#root');\n\nconst initHeader = () => {\n  const headerMarkup = createInitialHeaderMarkup();\n  rootRef.insertAdjacentHTML('afterbegin', headerMarkup);\n  // document.body.insertAdjacentHTML('afterbegin', headerMarkup);\n\n  const libraryLink = document.getElementById('libraryLink');\n  libraryLink.addEventListener('click', onLibraryLinkClick);\n\n  const searchInput = document.getElementById('search-movie');\n  searchInput.addEventListener('submit', onSearchMovie);\n};\n\nexport { initHeader };\n","import icon from '../../../images/sprite.svg';\n\nexport default function createInitialHeaderMarkup() {\n  return `<header class=\"header container\">\n  <div class=\"nav-wrap\">\n    <a href=\"#\" class=\"header__logo\" id=\"logoLink\">\n      <svg class=\"header__icon\">\n        <use href=\"${icon}#icon-main-logo\"></use>\n      </svg>\n      <span class=\"header__text\">Filmoteka</span>\n    </a>\n    <nav>\n      <ul class=\"nav-list\">\n        <li class=\"nav-list__item\">\n          <a\n            class=\"nav-list__link nav-list__link--current\"\n            href=\"#\"\n            id=\"homeLink\"\n            >Home</a\n          >\n        </li>\n        <li class=\"nav-list__item\">\n          <a class=\"nav-list__link\" href=\"#\" id=\"libraryLink\">My library</a>\n        </li>\n      </ul>\n    </nav>\n  </div>\n  <div class=\"search-form-wrap\">\n    <form class=\"search-form\" id=\"search-movie\">\n      <input\n        class=\"search-form__input\"\n        name=\"searchQuery\"\n        type=\"text\"\n        placeholder=\"Movie search\"\n      />\n      <button class=\"search-form__button-submit\" type=\"submit\">\n        <svg width=\"12\" height=\"12\">\n          <use href=\"${icon}#icon-search\"></use>\n        </svg>\n      </button>\n    </form>\n  </div>\n  <p class=\"notification\">\n    Search result is not successful. Enter the correct movie name and try again.\n  </p>\n</header>`;\n}\n","// import refs from '../refs';\n// import Api from '../api-service';\n// import ApiService from '../api-service';\n//import { appService } from '../../index';\n// const IMG_URL = 'https://image.tmdb.org/t/p/w500/';\n// const appService = new Api();\n\n// appService.fetchTrending().then(handleResponse);\n\n// function handleResponse(response) {\n//   const cards = response.results;\n//   console.log(response);\n\n//   Promise.all([appService.fetchGenres('movie'), appService.fetchGenres('tv')])\n//     .then(allGenres => {\n//       const genres = allGenres.map(r => r.genres);\n//       const mergedGenres = [].concat.apply([], genres);\n//       const genreMap = new Map(\n//         mergedGenres.map(object => {\n//           return [object.id, object.name];\n//         })\n//       );\n//       renderPopularCards(cards, genreMap);\n//     })\n//     .catch(error => {\n//       console.log(error);\n//     });\n// }\n\nexport default function renderPopularCards(cards, genres) {\n  // console.log(cards);\n  // console.log(genres);\n  const markup = cards\n    .map(\n      ({\n        poster_path,\n        original_title,\n        original_name,\n        genre_ids,\n        release_date,\n        first_air_date,\n        vote_average,\n        id,\n      }) => {\n        const date = release_date ? release_date : first_air_date;\n        const name = original_title ? original_title : original_name;\n        // const dateArr = date.split('-');\n\n        const year = new Date(date).getFullYear();\n        // console.log(dateArr);\n        // const year = dateArr[0];\n        // console.log(year);\n        // console.log(genre_ids);\n        const genreArr = genre_ids.slice(0, 2).map(id => genres.get(id));\n\n        if (genre_ids.length > 2) {\n          genreArr.push('Others');\n        }\n\n        const genreStr = genreArr.join(', ');\n        // console.log(genreStr);\n        const vote = vote_average.toFixed(1);\n\n        return `<li class=\"gallery__item card\" data-id=\"${id}\">\n          <img\n            class=\"card__image\"\n            src=\"https://image.tmdb.org/t/p/w500/${poster_path}\"\n            alt=\"poster\"\n            loading=\"lazy\"\n          />\n          <div class=\"card__info\" >\n            <p class=\"card__title\">${name}</p>\n            <div class=\"card__movie-info\">\n              <p class=\"card__genre\">${genreStr}</p>\n              <span class=\"vertical\">&nbsp|&nbsp</span>\n              <p class=\"card__release\">${year}</p>\n              <p class=\"card__rating\">${vote}</p>\n            </div>\n          </div>\n      </li>`;\n      }\n    )\n    .join('');\n\n  return markup;\n  // refs.galleryList.insertAdjacentHTML('beforeend', markup);\n\n  // console.log(markup);\n}\n","import icon from '../../images/sprite.svg';\n\nexport default function makePaginatuonBtnMarkup(currentPage, lastPage) {\n  const prevArow = `<button class=\"pagination__arrow pagination__arrow-left\" id='previous'>\n                      <svg class=\"pagination-arrow-icon\" >\n                        <use href=\"${icon}#icon-arrow-left\"></use>\n                      </svg>\n                    </button>`;\n  const nextArow = `<button class=\"pagination__arrow pagination__arrow-right\" id='next'>\n                      <svg class=\"pagination-arrow-icon\">\n                        <use href=\"${icon}#icon-arrow-right\" ></use>\n                      </svg>\n                    </button>`;\n  const firstPageBtn = `<li class=\"item\">\n                          <button class=\"pagination__btn\">1</button>\n                        </li>`;\n  const moreBtn = `<li class=\"item\">\n                    <button class=\"pagination-btn-more\">...</button>\n                  </li>`;\n  const prevPrevBtn = `<li class=\"item\">\n                        <button class=\"pagination__btn\">${\n                          currentPage - 2\n                        }</button>\n                      </li>`;\n  const prevBtn = `<li class=\"item\">\n                    <button class=\"pagination__btn\">${currentPage - 1}</button>\n                  </li>`;\n  const currentBtn = `<li class=\"item\">\n                        <button class=\"pagination__btn pagination__btn--choice\">${currentPage}</button>\n                      </li>`;\n  const nextBtn = `<li class=\"item\">\n                    <button class=\"pagination__btn\">${currentPage + 1}</button>\n                  </li>`;\n  const nextNextBtn = ` <li class=\"item\">\n                          <button class=\"pagination__btn\">${\n                            currentPage + 2\n                          }</button>\n                        </li>`;\n  const lastBtn = `<li class=\"item\">\n                    <button class=\"pagination__btn\">${lastPage}</button>\n                  </li>`;\n\n  if (currentPage === 1) {\n    return ` <ul class=\"pagination-list\">\n              ${currentBtn} \n              ${nextBtn}\n              ${nextNextBtn}\n              ${moreBtn}\n              ${lastBtn}\n            </ul>\n            ${nextArow}`;\n  }\n\n  if (currentPage === 2) {\n    return `${prevArow}\n            <ul class=\"pagination-list\">\n              ${prevBtn}\n              ${currentBtn} \n              ${nextBtn}\n              ${nextNextBtn}\n              ${moreBtn}\n              ${lastBtn}\n            </ul>\n            ${nextArow}`;\n  }\n\n  if (currentPage === 3) {\n    return `${prevArow}\n            <ul class=\"pagination-list\">\n              ${prevPrevBtn}\n              ${prevBtn}\n              ${currentBtn} \n              ${nextBtn}\n              ${nextNextBtn}\n              ${moreBtn}\n              ${lastBtn}\n            </ul>\n            ${nextArow}`;\n  }\n\n  if (currentPage === lastPage - 2) {\n    return `${prevArow}\n            <ul class=\"pagination-list\">\n              ${firstPageBtn}\n              ${moreBtn}\n              ${prevPrevBtn}\n              ${prevBtn}\n              ${currentBtn} \n              ${nextBtn}\n              ${nextNextBtn}\n            </ul>\n            ${nextArow}`;\n  }\n\n  if (currentPage === lastPage - 1) {\n    return `${prevArow}\n            <ul class=\"pagination-list\">\n              ${firstPageBtn}\n              ${moreBtn}\n              ${prevPrevBtn}\n              ${prevBtn}\n              ${currentBtn} \n              ${nextBtn}\n            </ul>\n            ${nextArow}`;\n  }\n\n  if (currentPage === lastPage) {\n    return `${prevArow}\n            <ul class=\"pagination-list\">\n              ${firstPageBtn}\n              ${moreBtn}\n              ${prevPrevBtn}\n              ${prevBtn}\n              ${currentBtn} \n            </ul>`;\n  }\n\n  return `${prevArow}\n            <ul class=\"pagination-list\">\n              ${firstPageBtn}\n              ${moreBtn}\n              ${prevPrevBtn}\n              ${prevBtn}\n              ${currentBtn} \n              ${nextBtn}\n              ${nextNextBtn}\n              ${moreBtn}\n              ${lastBtn}\n            </ul>\n            ${nextArow}`;\n}\n","// import Api from '../js/api-service';\n\nimport makePaginatuonBtnMarkup from './templates/paginationMarkup';\nimport { initRenderTrendingMovie, appService } from './createTrandingMovieCars';\n\n// const appService = new Api();\n\nexport default function createPaginationBtn(data) {\n  const paginatioRef = document.querySelector('.pagination');\n  const currentPage = appService.pageNumber;\n  const lastPage = data.total_pages;\n\n  paginatioRef.innerHTML = makePaginatuonBtnMarkup(currentPage, lastPage);\n\n  // ------------- Логіка роботи кнопок пагінаціі -----------\n  paginatioRef.addEventListener('click', onPaginationBtnClick);\n\n  function onPaginationBtnClick(e) {\n    e.preventDefault();\n    // console.log(e);\n\n    if (+e.target.textContent === currentPage) {\n      console.log('Поточна сторінка');\n      return;\n    }\n\n    if (e.target.id === 'next') {\n      appService.incrementPage();\n\n      paginatioRef.removeEventListener('click', onPaginationBtnClick);\n\n      initRenderTrendingMovie();\n      return;\n    }\n\n    if (e.target.id === 'previous') {\n      appService.decrementPage();\n\n      paginatioRef.removeEventListener('click', onPaginationBtnClick);\n\n      initRenderTrendingMovie();\n      return;\n    }\n\n    if (e.target.nodeName === 'BUTTON') {\n      appService.pageNumber = +e.target.textContent;\n      paginatioRef.removeEventListener('click', onPaginationBtnClick);\n      initRenderTrendingMovie();\n    }\n  }\n}\n","import Api from '../api-service';\n\nimport renderPopularCards from '../templates/render-popular-card';\nimport createPaginationBtn from '../createPaginationBtn';\n\nconst appService = new Api();\n\nexport default function handleResponse(response) {\n  // console.log(response);\n  const cards = response.results;\n\n  Promise.all([appService.fetchGenres('movie'), appService.fetchGenres('tv')])\n    .then(allGenres => {\n      const genres = allGenres.flatMap(r => r.genres);\n      const genreMap = new Map(\n        genres.map(object => {\n          return [object.id, object.name];\n        })\n      );\n      const galleryRef = document.querySelector('.gallery');\n      galleryRef.innerHTML = renderPopularCards(cards, genreMap);\n\n      createPaginationBtn(response);\n    })\n    .catch(console.log);\n}\n","import Api from '../js/api-service';\nimport handleResponse from './handlers/handlerResponse';\n\nconst appService = new Api();\n\nfunction initRenderTrendingMovie() {\n  appService.fetchTrending().then(handleResponse).catch(console.log);\n}\n\nexport { initRenderTrendingMovie, appService };\n","import icon from '../../images/sprite.svg';\nconst IMG_URL = 'https://image.tmdb.org/t/p/w500/';\n\nexport default function createModalMarkup({\n  poster_path,\n  genres = [],\n  vote_count,\n  vote_average,\n  original_title,\n  popularity,\n  title,\n  overview,\n}) {\n  const genersList = genres.map(element => element.name);\n  return `<div class=\"modal\">\n    <button class=\"modal__close\" data-action=\"close-modal\"><svg class=\"modal__close-icon\" width=\"14\" height=\"14\">\n        <use href=\"${icon}#icon-close\"></use>\n      </svg></button>\n \n      <img class=\"modal__img\" src=${IMG_URL}${poster_path} alt=\"poster\" />\n  \n    <div class=\"modal__description-wrap\">\n      <h2 class=\"modal__title\">${title}</h2>\n      <table class=\"modal__info\">\n  <tr>\n    <td class=\"modal__info-key\">Vote/votes</td>\n    <td \"modal__info-value\">\n    <span class=\"modal__info-value--accent\">${vote_average}</span>\n     <span class=\"modal__info-value--slash\">/ </span\n    ><span class=\"modal__info-value--grey\">${vote_count}</span>\n    </td>\n  </tr>\n  <tr>\n    <td class=\"modal__info-key\">Popularity</td>\n    <td \"modal__info-value\">${popularity}</td>\n  </tr>\n  <tr>\n    <td class=\"modal__info-key\">Original Title</td>\n    <td \"modal__info-value\">${original_title}</td>\n  </tr>\n  <tr>\n    <td class=\"modal__info-key\">Genre</td>\n    <td \"modal__info-value\">${genersList}</td>\n  </tr>\n</table>\n    \n      <h3 class=\"modal__about-title\">About</h3>\n      <p class=\"modal__about-text\">\n        ${overview}\n      </p>\n      <div class=\"modal__option\">\n        <button class=\"btn-add-wached\" data-action=\"add-wached\">add to Watched</button>\n        <button class=\"btn-add-queue\" data-action=\"add-queue\">add to queue</button>\n      </div>\n    </div>\n  </div>`;\n}\n","export { onBtnAddToQueueClick, onBtnAddWachedClick };\n\nfunction onBtnAddToQueueClick(e) {\n  if (e.target.dataset.action === 'add-queue') {\n    console.log('onBtnAddToQueueClick - click');\n  }\n}\nfunction onBtnAddWachedClick(e) {\n  if (e.target.dataset.action === 'add-wached') {\n    console.log('onBtnAddWachedClick - click');\n  }\n}\n","export { openModal };\nimport {\n  onBtnAddToQueueClick,\n  onBtnAddWachedClick,\n} from './localStorageOptions';\n// // знімає is.hidden з refs.backdrop та додає слухачів\n\nfunction openModal() {\n  let backdropEl = document.querySelector('.backdrop');\n  backdropEl.classList.remove('is-hidden');\n  document.addEventListener('keydown', onCloseEsc);\n  backdropEl.addEventListener('click', onBtnCloseModalClick);\n  backdropEl.addEventListener('click', onBtnAddToQueueClick);\n  backdropEl.addEventListener('click', onBtnAddWachedClick);\n}\n// //додає is.hidden на refs.backdrop та знімає слухачів\nfunction closeModal() {\n  let backdropEl = document.querySelector('.backdrop');\n  backdropEl.classList.add('is-hidden');\n  document.removeEventListener('keydown', onCloseEsc);\n  backdropEl.removeEventListener('click', onBtnCloseModalClick);\n  backdropEl.removeEventListener('click', onBtnAddToQueueClick);\n  backdropEl.removeEventListener('click', onBtnAddWachedClick);\n}\n\n// // закриття по Esc\nfunction onCloseEsc(e) {\n  if (e.code === 'Escape') {\n    closeModal();\n  }\n}\n// // закриття по кнопкі або по кліку на бєкдроп\nfunction onBtnCloseModalClick(e) {\n  if (\n    e.target.dataset.action === 'close-modal' ||\n    e.currentTarget === e.target\n  ) {\n    closeModal();\n  }\n}\n","import ApiService from './api-service';\nimport createModalMarkup from './templates/modalCardMarkap';\nimport { openModal } from './handlers/modalCardOptions';\n\nconst appService = new ApiService();\n\nexport default async function renderModalCard(movieId) {\n  let backdropEl = document.querySelector('.backdrop');\n  backdropEl.setAttribute('id', movieId);\n  const data = await appService.fetchMovieDetails(movieId);\n  const markup = await createModalMarkup(data);\n  await uppendModalMarkap(markup);\n  openModal();\n}\n\nasync function uppendModalMarkap(markup) {\n  let backdropEl = document.querySelector('.backdrop');\n  backdropEl.innerHTML = markup;\n}\n","import renderModalCard from '../renderModalCard';\nexport { onCardClick };\n\nasync function onCardClick(e) {\n  let backdropEl = document.querySelector('.backdrop');\n  backdropEl = document.querySelector('.backdrop');\n  if (e.target.classList.contains('gallery__item')) {\n    const filmId = e.target.dataset.id;\n    await renderModalCard(filmId);\n  }\n}\n","import './sass/index.scss';\n\n// import refs from './js/refs'; // do not work\n\n// import Api from './js/api-service';\n\n// import renderModalCard from './js/templates/render-card-modal';\nimport makeBasicGalleryMarkup from './js/templates/render-basic-gallery';\nimport renderFooter from './js/templates/render-footer';\nimport { initHeader } from './js/templates/header/initHeader';\nimport { initRenderTrendingMovie } from './js/createTrandingMovieCars';\nimport renderBackdrop from './js/templates/render-backdrop';\nimport { onCardClick } from './js/handlers/onModalCardHandlers';\n\n// import Spiner from './js/spiner';\n\n// import renderPopularCards from './js/templates/render-popular-card';\n\n// const spiner = new Spiner();\n\n// const appService = new Api();\n\n// -------------Створює початкову розмітку сайту-----------\nconst rootRef = document.querySelector('#root');\n\ndocument.addEventListener('DOMContentLoaded', createSiteMarkup(), {\n  once: true,\n});\n\nfunction createSiteMarkup() {\n  initHeader();\n  rootRef.insertAdjacentHTML('beforeend', makeBasicGalleryMarkup());\n  rootRef.insertAdjacentHTML('beforeend', renderFooter());\n  rootRef.insertAdjacentHTML('beforeend', renderBackdrop());\n  const galleryList = document\n    .querySelector('.gallery')\n    .addEventListener('click', onCardClick);\n\n  initRenderTrendingMovie();\n}\n\n// ------------------------------------------------------------\n\n// -------------Для рендеру карток головної сторінки-----------\n\n// const galleryRef = document.querySelector('.gallery');\n\n// function initRenderTrendingMovie() {\n//   appService.fetchTrending().then(handleResponse).catch(console.log);\n// }\n\n// function handleResponse(response) {\n//   console.log(response);\n//   const cards = response.results;\n\n//   Promise.all([appService.fetchGenres('movie'), appService.fetchGenres('tv')])\n//     .then(allGenres => {\n//       const genres = allGenres.flatMap(r => r.genres);\n//       const genreMap = new Map(\n//         genres.map(object => {\n//           return [object.id, object.name];\n//         })\n//       );\n\n//       // galleryRef.insertAdjacentHTML(\n//       //   'beforeend',\n//       //   renderPopularCards(cards, genreMap)\n//       // );\n\n//       galleryRef.innerHTML = renderPopularCards(cards, genreMap);\n\n//       renderPaginationBtn(response);\n//     })\n//     .catch(error => {\n//       console.log(error);\n//     });\n// }\n\n// ------------------------------------------------\n\n// ------------- Для рендеру кнопок пагінаціі -----------\n\n// function renderPaginationBtn(data) {\n//   const paginatioRef = document.querySelector('.pagination');\n//   const currentPage = appService.pageNumber;\n//   const lastPage = data.total_pages;\n\n//   paginatioRef.innerHTML = makePaginatuonBtnMarkup(currentPage, lastPage);\n\n//   // ------------- Логіка роботи кнопок пагінаціі -----------\n//   paginatioRef.addEventListener('click', onPaginationBtnClick);\n\n//   function onPaginationBtnClick(e) {\n//     e.preventDefault();\n//     console.log(e);\n//     if (+e.target.textContent === currentPage) {\n//       console.log('Поточна сторінка');\n//       return;\n//     }\n\n//     if (e.target.id === 'next') {\n//       appService.incrementPage();\n\n//       paginatioRef.removeEventListener('click', onPaginationBtnClick);\n\n//       initRenderTrendingMovie();\n//       return;\n//     }\n\n//     if (e.target.id === 'previous') {\n//       appService.decrementPage();\n\n//       paginatioRef.removeEventListener('click', onPaginationBtnClick);\n\n//       initRenderTrendingMovie();\n//       return;\n//     }\n\n//     if (e.target.nodeName === 'BUTTON') {\n//       appService.pageNumber = +e.target.textContent;\n//       paginatioRef.removeEventListener('click', onPaginationBtnClick);\n//       initRenderTrendingMovie();\n//     }\n//   }\n\n// }\n// ------------------------------------------------\n\n// -------------Поіск фільму по назві-----------\n// document\n//   .querySelector('#search-movie')\n//   .addEventListener('submit', onSearchMovie);\n\n// function onSearchMovie(e) {\n//   e.preventDefault();\n\n//   appService.query = e.currentTarget.elements.searchQuery.value.trim();\n\n//   const isEmptySearch = appService.searchQuery === '';\n\n//   if (isEmptySearch) {\n//     console.log('Пустий пошук');\n//     //Зробити повідомлення про пустий пошук\n//     return;\n//   }\n\n//   appService.resetPage();\n//   appService.fetchSearchMovie().then(handleResponse).catch(console.log);\n// }\n\n// ------------------------------------------------\n\n// тест відкриття модали з ID фшльму 12 (розкоментуй renderModalCard)\n// renderModalCard(12);\n// експорт для доступу в функції renderModalCard\n// export { appService };\n","export default function makeBasicGalleryMarkup() {\n  return `\n  <section class=\"section\">\n  <div class=\"container\">\n    <h2 class=\"visually-hidden\">Gallery list</h2>\n    <ul class=\"gallery\"></ul>\n    <div class=\"pagination\">\n      \n    </div>\n  </div>\n</section>`;\n}\n","import icon from '../../images/sprite.svg';\n\nfunction renderFooter() {\n  return `<footer>\n  <div class=\"footer__container container\">\n    <p class=\"footer__text\">© 2020 | All Rights Reserved |</p>\n    <p class=\"footer__text\">\n      Developed with<svg xmlns=\"http://www.w3.org/2000/svg\" id=\"icon-heart\" class=\"footer__icon\" viewBox=\"0 0 34 32\" width=\"14\" height=\"13\">\n      <path\n        d=\"M17.231 31.705l-2.412-2.412c-8.96-7.926-14.818-13.268-14.818-19.815 0-5.342 4.135-9.477 9.477-9.477 2.929 0 5.858 1.378 7.754 3.618 1.895-2.24 4.825-3.618 7.754-3.618 5.342 0 9.477 4.135 9.477 9.477 0 6.548-5.858 11.889-14.818 19.815l-2.412 2.412z\"\n      ></path>\n    </svg>by\n      <button type=\"button\" class=\"footer__button\">GoIT Students</button>\n    </p>\n  </div>\n</footer>`;\n}\n\nexport default renderFooter;\n","export default function renderBackdrop() {\n  return `<div class=\"backdrop is-hidden\"></div>`;\n}\n"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$a4212a039eccdb43$exports","URL","resolve","import","meta","url","toString","$55b58e231f028392$export$2e2bcd8739ae039","fetchGenres","type","fetch","then","res","json","fetchTrending","this","page","fetchSearchMovie","searchQuery","fetchMovieDetails","movieId","incrementPage","decrementPage","pageNumber","number","resetPage","query","newQuery","searchId","newId","constructor","$8c295a9976345325$export$3eebdb0a92525cbf","$8c295a9976345325$export$bd8553b7b98ed76c","e","preventDefault","currentTarget","elements","value","trim","console","log","$e0446c7c34943dc1$export$e4d2f4f70d1c0448","headerElement","document","querySelector","innerHTML","$parcel$interopDefault","classList","remove","getElementById","addEventListener","$c25422e3598f748e$export$d508c8e60986c155","$e8915a450fe967a5$export$a253a35941f20abb","event","$ef7338c5754b84fb$export$41e1b73ac3c2fd8f","add","homeLink","logoLink","$78d766f9167b7557$var$rootRef","$78d766f9167b7557$export$311ccb8ac074141f","headerMarkup","insertAdjacentHTML","$1c2eb5d764315a92$export$2e2bcd8739ae039","cards","genres","map","poster_path","original_title","original_name","genre_ids","release_date","first_air_date","vote_average","id1","name","year","Date","getFullYear","genreArr","slice","get","push","join","toFixed","$dbd1de772a3890b8$export$2e2bcd8739ae039","currentPage","lastPage","prevArow","nextArow","firstPageBtn","moreBtn","prevPrevBtn","prevBtn","currentBtn","nextBtn","nextNextBtn","lastBtn","$526c57a9a461ae8b$export$2e2bcd8739ae039","data","paginatioRef","$f14acb2b0bce336c$export$3eebdb0a92525cbf","total_pages","onPaginationBtnClick","target","textContent","removeEventListener","$f14acb2b0bce336c$export$1a9ea3363e73b948","nodeName","$d011e6130e2987b7$var$appService","$d011e6130e2987b7$export$2e2bcd8739ae039","response","results","Promise","all","allGenres","flatMap","r","genreMap","Map","object","catch","$cd191764ec9631d8$export$2e2bcd8739ae039","vote_count","popularity","title","overview","genersList","element","$2a75f600e5c76ce3$export$9d350f52445bc4f2","dataset","action","$2a75f600e5c76ce3$export$29e927603b14c2c5","$a2ebfd54d0fe23c3$export$a7f6cffb6b8ba11c","backdropEl","$a2ebfd54d0fe23c3$var$onCloseEsc","$a2ebfd54d0fe23c3$var$onBtnCloseModalClick","$a2ebfd54d0fe23c3$var$closeModal","code","$02a9a92506d7547f$var$appService","async","$02a9a92506d7547f$export$2e2bcd8739ae039","setAttribute","markup","$02a9a92506d7547f$var$uppendModalMarkap","$b5b216055ab80a28$export$e38760b558c7b88e","contains","filmId","$1f0dc3b9307be026$var$rootRef","$1f0dc3b9307be026$var$createSiteMarkup","once"],"version":3,"file":"index.a148f6cb.js.map"}