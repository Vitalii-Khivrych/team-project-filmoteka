!function(){function t(t,n,e,r){Object.defineProperty(t,n,{get:e,set:r,enumerable:!0,configurable:!0})}function n(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},a={},o=e.parcelRequire62bd;null==o&&((o=function(t){if(t in r)return r[t].exports;if(t in a){var n=a[t];delete a[t];var e={id:t,exports:{}};return r[t]=e,n.call(e.exports,e,e.exports),e.exports}var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(t,n){a[t]=n},e.parcelRequire62bd=o),o.register("iE7OH",(function(n,e){var r,a;t(n.exports,"register",(function(){return r}),(function(t){return r=t})),t(n.exports,"resolve",(function(){return a}),(function(t){return a=t}));var o={};r=function(t){for(var n=Object.keys(t),e=0;e<n.length;e++)o[n[e]]=t[n[e]]},a=function(t){var n=o[t];if(null==n)throw new Error("Could not resolve bundle with id "+t);return n}})),o.register("aNJCr",(function(n,e){var r;t(n.exports,"getBundleURL",(function(){return r}),(function(t){return r=t}));var a={};function o(t){return(""+t).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}r=function(t){var n=a[t];return n||(n=function(){try{throw new Error}catch(n){var t=(""+n.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(t)return o(t[2])}return"/"}(),a[t]=n),n}})),o("iE7OH").register(JSON.parse('{"EVgbq":"index.ffee7933.js","ee16w":"sprite.47a876e0.svg","5UbS1":"index.f1288467.css"}'));var i;i=o("aNJCr").getBundleURL("EVgbq")+o("iE7OH").resolve("ee16w");var c={};Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")};var s={};function l(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(t,n,e){n&&l(t.prototype,n);e&&l(t,e);return t};var u="https://api.themoviedb.org/3",d="81f57ce8a5863d84fdab7c29ba0c37c2",h=function(){"use strict";function t(){n(c)(this,t),this.searchQuery="",this.page=1,this.searchId="66732"}return n(s)(t,[{key:"fetchGenres",value:function(t){var n="".concat(u,"/genre/").concat(t,"/list?api_key=").concat(d,"&language=en-US");return fetch(n).then((function(t){return t.json()}))}},{key:"fetchTrending",value:function(){var t="".concat(u,"/trending/movie/day?api_key=").concat(d,"&page=").concat(this.page);return fetch(t).then((function(t){return t.json()}))}},{key:"fetchSearchMovie",value:function(){var t="".concat(u,"/search/movie?api_key=").concat(d,"&language=en-US&query=").concat(this.searchQuery,"&page=").concat(this.page,"&include_adult=false");return fetch(t).then((function(t){return t.json()}))}},{key:"fetchMovieDetails",value:function(t){var n="".concat(u,"/movie/").concat(t,"?api_key=").concat(d,"&language=en-US");return fetch(n).then((function(t){return t.json()}))}},{key:"incrementPage",value:function(){this.page+=1}},{key:"decrementPage",value:function(){this.page-=1}},{key:"pageNumber",get:function(){return this.page},set:function(t){this.page=t}},{key:"resetPage",value:function(){this.page=1}},{key:"query",get:function(){return this.searchQuery},set:function(t){this.searchQuery=t}},{key:"movieId",get:function(){return this.searchId},set:function(t){this.searchId=t}}]),t}(),f=new h,v=function(t){t.preventDefault(),f.query=t.currentTarget.elements.searchQuery.value.trim(),""===f.searchQuery?console.log("Пустий пошук"):(f.resetPage(),f.fetchSearchMovie().then(console.log))},p=function(){var t=document.querySelector(".header");t.innerHTML='<div class="nav-wrap">\n    <a href="#" class="header__logo" id="logoLink">\n     <svg class="header__icon">\n        <use href="'.concat(n(i),'#icon-main-logo"></use>\n      </svg>\n      <span class="header__text">Filmoteka</span>\n    </a>\n    <nav>\n      <ul class="nav-list">\n        <li class="nav-list__item">\n          <a\n            class="nav-list__link nav-list__link--current"\n            href="#"\n            id="homeLink"\n            >Home</a\n          >\n        </li>\n        <li class="nav-list__item">\n          <a class="nav-list__link" href="#" id="libraryLink">My library</a>\n        </li>\n      </ul>\n    </nav>\n  </div>\n  <div class="search-form-wrap">\n    <form class="search-form" id="search-movie">\n      <input\n        class="search-form__input"\n        name="searchQuery"\n        type="text"\n        placeholder="Movie search"\n      />\n      <button class="search-form__button-submit" type="submit">\n       <svg width="12" height="12">\n          <use href="').concat(n(i),'#icon-search"></use>\n        </svg>\n      </button>\n    </form>\n  </div>\n  <p class="notification">\n    Search result is not successful. Enter the correct movie name and try again.\n  </p>\n'),t.classList.remove("additional-bg"),document.getElementById("libraryLink").addEventListener("click",E),document.getElementById("search-movie").addEventListener("submit",v)},g=function(t){t.preventDefault(),p()},m=function(){var t=document.querySelector(".header");t.innerHTML='<div class="nav-wrap additional-margin">\n    <a href="#" class="header__logo" id="logoLink">\n      <svg class="header__icon">\n        <use href="'.concat(n(i),'#icon-main-logo"></use>\n      </svg>\n      <span class="header__text">Filmoteka</span>\n    </a>\n    <nav>\n      <ul class="nav-list">\n        <li class="nav-list__item">\n          <a class="nav-list__link" href="#" id="homeLink">Home</a>\n        </li>\n        <li class="nav-list__item">\n          <a class="nav-list__link nav-list__link--current" href="#" id="libraryLink"\n            >My library</a\n          >\n        </li>\n      </ul>\n    </nav>\n  </div>\n  <ul class="button-list">\n    <li class="button-list__item">\n      <button class="button-list__btn button-list__btn--current" type="button">\n        Watched\n      </button>\n    </li>\n    <li class="button-list__item">\n      <button class="button-list__btn" type="button">Queue</button>\n    </li>\n  </ul>\n'),t.classList.add("additional-bg");var e=document.getElementById("homeLink"),r=document.getElementById("logoLink");e.addEventListener("click",g),r.addEventListener("click",g)};function _(t){return t.map((function(t){var n=t.poster_path,e=t.original_title,r=t.original_name,a=t.genres,o=t.release_date,i=t.first_air_date,c=t.vote_average,s=t.id,l=new Date(o||i).getFullYear(),u=e||r,d=c?c.toFixed(1):"N/A",h=a?a.slice(0,2).map((function(t){return t.name})):[];(a.length>2||0===a.length)&&h.push("Others");var f=h.join(", ");return'<li class="gallery__item card" data-id="'.concat(s,'">\n          <img\n            class="card__image"\n            src="https://image.tmdb.org/t/p/w500/').concat(n,'"\n            alt="poster"\n            loading="lazy"\n          />\n          <div class="card__info" >\n            <p class="card__title">').concat(u,'</p>\n            <div class="card__movie-info">\n              <p class="card__genre">').concat(f,'</p>\n              <span class="vertical">&nbsp|&nbsp</span>\n              <p class="card__release">').concat(l,'</p>\n              <p class="card__rating">').concat(d,"</p>\n            </div>\n          </div>\n      </li>")})).join("")}var y="watched-list",b="queue-list",L={getWatchedList:function(){try{return JSON.parse(localStorage.getItem(y))}catch(t){console.log(t)}},setWatchedList:function(t){localStorage.setItem(y,JSON.stringify(t))},getQueueList:function(){try{return JSON.parse(localStorage.getItem(b))}catch(t){console.log(t)}},setQueueList:function(t){localStorage.setItem(b,JSON.stringify(t))},isWatchedListEmpty:function(){var t=this.getWatchedList();return!t||0===t.length},isQueueListEmpty:function(){var t=this.getQueueList();return!t||0===t.length},isMovieInWatchedList:function(t){return!this.isWatchedListEmpty()&&!!this.getWatchedList().includes(t)},isMovieInQueueList:function(t){return!this.isQueueListEmpty()&&!!this.getQueueList().includes(t)},addMovieToWatchedList:function(t){if(this.isWatchedListEmpty())localStorage.setItem(y,JSON.stringify([t]));else{var n=this.getWatchedList();n.push(t),this.setWatchedList(n)}},addMovieToQueueList:function(t){if(this.isQueueListEmpty())localStorage.setItem(b,JSON.stringify([t]));else{var n=this.getQueueList();n.push(t),this.setQueueList(n)}},removeMovieFromWatchedList:function(t){var n=this.getWatchedList().filter((function(n){return n!==t}));this.setWatchedList(n)},removeMovieFromQueueList:function(t){var n=this.getQueueList().filter((function(n){return n!==t}));this.setQueueList(n)},clearWatchedList:function(){localStorage.removeItem(y)},clearQueueList:function(){localStorage.removeItem(b)}},w=new h;function k(){var t=document.querySelector(".gallery"),n=L.getQueueList();t.innerHTML="";var e=n.map((function(t){return w.fetchMovieDetails(t).catch((function(t){return console.log(t)}))}));Promise.all(e).then((function(n){var e=_(n);t.innerHTML=e})).catch((function(t){return console.log(t)}))}var E=function(t){t.preventDefault(),m(),k()},x=document.querySelector("#root"),S=function(){var t='<header class="header container">\n  <div class="nav-wrap">\n    <a href="#" class="header__logo" id="logoLink">\n      <svg class="header__icon">\n        <use href="'.concat(n(i),'#icon-main-logo"></use>\n      </svg>\n      <span class="header__text">Filmoteka</span>\n    </a>\n    <nav>\n      <ul class="nav-list">\n        <li class="nav-list__item">\n          <a\n            class="nav-list__link nav-list__link--current"\n            href="#"\n            id="homeLink"\n            >Home</a\n          >\n        </li>\n        <li class="nav-list__item">\n          <a class="nav-list__link" href="#" id="libraryLink">My library</a>\n        </li>\n      </ul>\n    </nav>\n  </div>\n  <div class="search-form-wrap">\n    <form class="search-form" id="search-movie">\n      <input\n        class="search-form__input"\n        name="searchQuery"\n        type="text"\n        placeholder="Movie search"\n      />\n      <button class="search-form__button-submit" type="submit">\n        <svg width="12" height="12">\n          <use href="').concat(n(i),'#icon-search"></use>\n        </svg>\n      </button>\n    </form>\n  </div>\n  <p class="notification">\n    Search result is not successful. Enter the correct movie name and try again.\n  </p>\n</header>');x.insertAdjacentHTML("afterbegin",t),document.getElementById("libraryLink").addEventListener("click",E),document.getElementById("search-movie").addEventListener("submit",v)};function M(t,n){return t.map((function(t){var e=t.poster_path,r=t.original_title,a=t.original_name,o=t.genre_ids,i=t.release_date,c=t.first_air_date,s=t.vote_average,l=t.id,u=r||a,d=new Date(i||c).getFullYear(),h=o.slice(0,2).map((function(t){return n.get(t)}));o.length>2&&h.push("Others");var f=h.join(", "),v=s.toFixed(1);return'<li class="gallery__item card" data-id="'.concat(l,'">\n          <img\n            class="card__image"\n            src="https://image.tmdb.org/t/p/w500/').concat(e,'"\n            alt="poster"\n            loading="lazy"\n          />\n          <div class="card__info" >\n            <p class="card__title">').concat(u,'</p>\n            <div class="card__movie-info">\n              <p class="card__genre">').concat(f,'</p>\n              <span class="vertical">&nbsp|&nbsp</span>\n              <p class="card__release">').concat(d,'</p>\n              <p class="card__rating">').concat(v,"</p>\n            </div>\n          </div>\n      </li>")})).join("")}function q(t,e){var r='<button class="pagination__arrow pagination__arrow-left" id=\'previous\'>\n                      <svg class="pagination-arrow-icon" >\n                        <use href="'.concat(n(i),'#icon-arrow-left"></use>\n                      </svg>\n                    </button>'),a='<button class="pagination__arrow pagination__arrow-right" id=\'next\'>\n                      <svg class="pagination-arrow-icon">\n                        <use href="'.concat(n(i),'#icon-arrow-right" ></use>\n                      </svg>\n                    </button>'),o='<li class="item">\n                          <button class="pagination__btn">1</button>\n                        </li>',c='<li class="item">\n                    <button class="pagination-btn-more">...</button>\n                  </li>',s='<li class="item">\n                        <button class="pagination__btn">'.concat(t-2,"</button>\n                      </li>"),l='<li class="item">\n                    <button class="pagination__btn">'.concat(t-1,"</button>\n                  </li>"),u='<li class="item">\n                        <button class="pagination__btn pagination__btn--choice">'.concat(t,"</button>\n                      </li>"),d='<li class="item">\n                    <button class="pagination__btn">'.concat(t+1,"</button>\n                  </li>"),h=' <li class="item">\n                          <button class="pagination__btn">'.concat(t+2,"</button>\n                        </li>"),f='<li class="item">\n                    <button class="pagination__btn">'.concat(e,"</button>\n                  </li>");return 1===t?' <ul class="pagination-list">\n              '.concat(u," \n              ").concat(d,"\n              ").concat(h,"\n              ").concat(c,"\n              ").concat(f,"\n            </ul>\n            ").concat(a):2===t?"".concat(r,'\n            <ul class="pagination-list">\n              ').concat(l,"\n              ").concat(u," \n              ").concat(d,"\n              ").concat(h,"\n              ").concat(c,"\n              ").concat(f,"\n            </ul>\n            ").concat(a):3===t?"".concat(r,'\n            <ul class="pagination-list">\n              ').concat(s,"\n              ").concat(l,"\n              ").concat(u," \n              ").concat(d,"\n              ").concat(h,"\n              ").concat(c,"\n              ").concat(f,"\n            </ul>\n            ").concat(a):t===e-2?"".concat(r,'\n            <ul class="pagination-list">\n              ').concat(o,"\n              ").concat(c,"\n              ").concat(s,"\n              ").concat(l,"\n              ").concat(u," \n              ").concat(d,"\n              ").concat(h,"\n            </ul>\n            ").concat(a):t===e-1?"".concat(r,'\n            <ul class="pagination-list">\n              ').concat(o,"\n              ").concat(c,"\n              ").concat(s,"\n              ").concat(l,"\n              ").concat(u," \n              ").concat(d,"\n            </ul>\n            ").concat(a):t===e?"".concat(r,'\n            <ul class="pagination-list">\n              ').concat(o,"\n              ").concat(c,"\n              ").concat(s,"\n              ").concat(l,"\n              ").concat(u," \n            </ul>"):"".concat(r,'\n            <ul class="pagination-list">\n              ').concat(o,"\n              ").concat(c,"\n              ").concat(s,"\n              ").concat(l,"\n              ").concat(u," \n              ").concat(d,"\n              ").concat(h,"\n              ").concat(c,"\n              ").concat(f,"\n            </ul>\n            ").concat(a)}function O(t){var n=document.querySelector(".pagination"),e=Q.pageNumber,r=t.total_pages;n.innerHTML=q(e,r),n.addEventListener("click",(function t(r){if(r.preventDefault(),+r.target.textContent===e)return void console.log("Поточна сторінка");if("next"===r.target.id)return Q.incrementPage(),n.removeEventListener("click",t),void I();if("previous"===r.target.id)return Q.decrementPage(),n.removeEventListener("click",t),void I();"BUTTON"===r.target.nodeName&&(Q.pageNumber=+r.target.textContent,n.removeEventListener("click",t),I())}))}var T=new h;function j(t){var n=t.results;Promise.all([T.fetchGenres("movie"),T.fetchGenres("tv")]).then((function(e){var r=e.flatMap((function(t){return t.genres})),a=new Map(r.map((function(t){return[t.id,t.name]})));document.querySelector(".gallery").innerHTML=M(n,a),O(t)})).catch(console.log)}var Q=new h;function I(){Q.fetchTrending().then(j).catch(console.log)}var N={};function W(t,n,e,r,a,o,i){try{var c=t[o](i),s=c.value}catch(t){return void e(t)}c.done?n(s):Promise.resolve(s).then(r,a)}Object.defineProperty(N,"__esModule",{value:!0}),N.default=function(t){return function(){var n=this,e=arguments;return new Promise((function(r,a){var o=t.apply(n,e);function i(t){W(o,r,a,i,c,"next",t)}function c(t){W(o,r,a,i,c,"throw",t)}i(void 0)}))}};var H={},P=function(t){"use strict";var n,e=Object.prototype,r=e.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function s(t,n,e){return Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[n]}try{s({},"")}catch(t){s=function(t,n,e){return t[n]=e}}function l(t,n,e,r){var a=n&&n.prototype instanceof g?n:g,o=Object.create(a.prototype),i=new q(r||[]);return o._invoke=function(t,n,e){var r=d;return function(a,o){if(r===f)throw new Error("Generator is already running");if(r===v){if("throw"===a)throw o;return T()}for(e.method=a,e.arg=o;;){var i=e.delegate;if(i){var c=x(i,e);if(c){if(c===p)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(r===d)throw r=v,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);r=f;var s=u(t,n,e);if("normal"===s.type){if(r=e.done?v:h,s.arg===p)continue;return{value:s.arg,done:e.done}}"throw"===s.type&&(r=v,e.method="throw",e.arg=s.arg)}}}(t,e,i),o}function u(t,n,e){try{return{type:"normal",arg:t.call(n,e)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var d="suspendedStart",h="suspendedYield",f="executing",v="completed",p={};function g(){}function m(){}function _(){}var y={};s(y,o,(function(){return this}));var b=Object.getPrototypeOf,L=b&&b(b(O([])));L&&L!==e&&r.call(L,o)&&(y=L);var w=_.prototype=g.prototype=Object.create(y);function k(t){["next","throw","return"].forEach((function(n){s(t,n,(function(t){return this._invoke(n,t)}))}))}function E(t,n){function e(a,o,i,c){var s=u(t[a],t,o);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&r.call(d,"__await")?n.resolve(d.__await).then((function(t){e("next",t,i,c)}),(function(t){e("throw",t,i,c)})):n.resolve(d).then((function(t){l.value=t,i(l)}),(function(t){return e("throw",t,i,c)}))}c(s.arg)}var a;this._invoke=function(t,r){function o(){return new n((function(n,a){e(t,r,n,a)}))}return a=a?a.then(o,o):o()}}function x(t,e){var r=t.iterator[e.method];if(r===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,x(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var a=u(r,t.iterator,e.arg);if("throw"===a.type)return e.method="throw",e.arg=a.arg,e.delegate=null,p;var o=a.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,p):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function S(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function M(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function q(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function O(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function e(){for(;++a<t.length;)if(r.call(t,a))return e.value=t[a],e.done=!1,e;return e.value=n,e.done=!0,e};return i.next=i}}return{next:T}}function T(){return{value:n,done:!0}}return m.prototype=_,s(w,"constructor",_),s(_,"constructor",m),m.displayName=s(_,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===m||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,s(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},k(E.prototype),s(E.prototype,i,(function(){return this})),t.AsyncIterator=E,t.async=function(n,e,r,a,o){void 0===o&&(o=Promise);var i=new E(l(n,e,r,a),o);return t.isGeneratorFunction(e)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},k(w),s(w,c,"Generator"),s(w,o,(function(){return this})),s(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var n=[];for(var e in t)n.push(e);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=O,q.prototype={constructor:q,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(M),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function a(r,a){return c.type="throw",c.arg=t,e.next=r,a&&(e.method="next",e.arg=n),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(t,n){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=n,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(i)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),p},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),M(e),p}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.tryLoc===t){var r=e.completion;if("throw"===r.type){var a=r.arg;M(e)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:O(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=n),p}},t}(H);try{regeneratorRuntime=P}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=P:Function("r","regeneratorRuntime = r")(P)}function F(t){var e=t.poster_path,r=t.genres,a=void 0===r?[]:r,o=t.vote_count,c=t.vote_average,s=t.original_title,l=t.popularity,u=t.title,d=t.overview,h=a.map((function(t){return t.name}));return'<div class="modal">\n    <button class="modal__close" data-action="close-modal"><svg class="modal__close-icon" width="14" height="14">\n        <use href="'.concat(n(i),'#icon-close"></use>\n      </svg></button>\n \n      <img class="modal__img" src=').concat("https://image.tmdb.org/t/p/w500/").concat(e,' alt="poster" />\n  \n    <div class="modal__description-wrap">\n      <h2 class="modal__title">').concat(u,'</h2>\n      <table class="modal__info">\n  <tr>\n    <td class="modal__info-key">Vote/votes</td>\n    <td "modal__info-value">\n    <span class="modal__info-value--accent">').concat(c,'</span>\n     <span class="modal__info-value--slash">/ </span\n    ><span class="modal__info-value--grey">').concat(o,'</span>\n    </td>\n  </tr>\n  <tr>\n    <td class="modal__info-key">Popularity</td>\n    <td "modal__info-value">').concat(l,'</td>\n  </tr>\n  <tr>\n    <td class="modal__info-key">Original Title</td>\n    <td "modal__info-value">').concat(s,'</td>\n  </tr>\n  <tr>\n    <td class="modal__info-key">Genre</td>\n    <td "modal__info-value">').concat(h,'</td>\n  </tr>\n</table>\n    \n      <h3 class="modal__about-title">About</h3>\n      <p class="modal__about-text">\n        ').concat(d,'\n      </p>\n      <div class="modal__option">\n        <button class="btn-add-wached" data-action="add-wached">add to Watched</button>\n        <button class="btn-add-queue" data-action="add-queue">add to queue</button>\n      </div>\n    </div>\n  </div>')}function A(t){if("add-queue"===t.target.dataset.action){var n=document.querySelector(".btn-add-queue"),e=document.querySelector(".btn-add-wached"),r=t.currentTarget.getAttribute("id");if(L.isMovieInQueueList(r)?L.removeMovieFromQueueList(r):L.addMovieToQueueList(r),n.classList.toggle("isActive"),L.isMovieInQueueList(r)?n.textContent="delete to queue":n.textContent="add to queue",console.log(L.getQueueList()),!n.disabled&&!e.disabled)return e.disabled=!0;if(e.disabled)return e.disabled=!1}}function C(t){if("add-wached"===t.target.dataset.action){var n=document.querySelector(".btn-add-wached"),e=document.querySelector(".btn-add-queue"),r=t.currentTarget.getAttribute("id");if(L.isMovieInWatchedList(r)?L.removeMovieFromWatchedList(r):L.addMovieToWatchedList(r),n.classList.toggle("isActive"),L.isMovieInWatchedList(r)?n.textContent="delete to wached":n.textContent="add to watched",console.log(L.getWatchedList()),!e.disabled&&!n.disabled)return e.disabled=!0;if(e.disabled)return e.disabled=!1}}function G(){var t=document.querySelector(".backdrop");t.classList.remove("is-hidden"),document.addEventListener("keydown",R),t.addEventListener("click",B),t.addEventListener("click",A),t.addEventListener("click",C)}function D(){var t=document.querySelector(".backdrop");t.classList.add("is-hidden"),document.removeEventListener("keydown",R),t.removeEventListener("click",B),t.removeEventListener("click",A),t.removeEventListener("click",C)}function R(t){"Escape"===t.code&&D()}function B(t){"close-modal"!==t.target.dataset.action&&t.currentTarget!==t.target||D()}var J=new h;function U(t){return z.apply(this,arguments)}function z(){return(z=n(N)(n(H).mark((function t(e){var r,a,o,i;return n(H).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return document.querySelector(".backdrop").setAttribute("id",e),t.next=4,J.fetchMovieDetails(e);case 4:return r=t.sent,t.next=7,F(r);case 7:return a=t.sent,t.next=10,Y(a);case 10:o=document.querySelector(".btn-add-queue"),i=document.querySelector(".btn-add-wached"),L.isMovieInQueueList(e)&&(o.textContent="delete to queue",o.classList.toggle("isActive"),i.disabled=!0),L.isMovieInWatchedList(e)&&(i.textContent="delete to Wached",i.classList.toggle("isActive"),o.disabled=!0),G();case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Y(t){return V.apply(this,arguments)}function V(){return(V=n(N)(n(H).mark((function t(e){return n(H).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:document.querySelector(".backdrop").innerHTML=e;case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function $(t){return K.apply(this,arguments)}function K(){return(K=n(N)(n(H).mark((function t(e){var r;return n(H).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(document.querySelector(".backdrop"),document.querySelector(".backdrop"),!e.target.classList.contains("gallery__item")){t.next=6;break}return r=e.target.dataset.id,t.next=6,U(r);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var X=document.querySelector("#root");document.addEventListener("DOMContentLoaded",function(){S(),X.insertAdjacentHTML("beforeend",'\n  <section class="section">\n  <div class="container">\n    <h2 class="visually-hidden">Gallery list</h2>\n    <ul class="gallery"></ul>\n    <div class="pagination">\n      \n    </div>\n  </div>\n</section>'),X.insertAdjacentHTML("beforeend",'<footer>\n  <div class="footer__container container">\n    <p class="footer__text">© 2020 | All Rights Reserved |</p>\n    <p class="footer__text">\n      Developed with<svg xmlns="http://www.w3.org/2000/svg" id="icon-heart" class="footer__icon" viewBox="0 0 34 32" width="14" height="13">\n      <path\n        d="M17.231 31.705l-2.412-2.412c-8.96-7.926-14.818-13.268-14.818-19.815 0-5.342 4.135-9.477 9.477-9.477 2.929 0 5.858 1.378 7.754 3.618 1.895-2.24 4.825-3.618 7.754-3.618 5.342 0 9.477 4.135 9.477 9.477 0 6.548-5.858 11.889-14.818 19.815l-2.412 2.412z"\n      ></path>\n    </svg>by\n      <button type="button" class="footer__button">GoIT Students</button>\n    </p>\n  </div>\n</footer>'),X.insertAdjacentHTML("beforeend",'<div class="backdrop is-hidden"></div>');document.querySelector(".gallery").addEventListener("click",$);I()}(),{once:!0})}();
//# sourceMappingURL=index.ffee7933.js.map
