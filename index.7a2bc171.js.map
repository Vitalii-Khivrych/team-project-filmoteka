{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-21a70f4e2194ae0a.js","node_modules/@parcel/runtime-js/lib/runtime-643dfc921be0cb37.js","src/js/api-service.js","src/js/templates/render-popular-card.js","src/js/templates/paginationMarkup.js","src/js/createTrandingMovieCars.js","src/js/createPaginationBtn.js","src/js/handlers/handlerResponse.js","src/js/handlers/onSearchMovie.js","src/js/templates/header/renderHomeHeader.js","src/js/templates/header/createHeaderHomeMarkup.js","src/js/handlers/onHomeLinkClick.js","src/js/templates/header/renderLibraryHeader.js","src/js/templates/header/createHeaderLibraryMarkup.js","src/js/templates/renderLibraryCards.js","src/js/localStorageApi.js","src/js/templates/renderQueueList.js","src/js/handlers/onLibraryLinkClick.js","src/js/templates/header/initHeader.js","src/js/templates/header/createInitialHeaderMarkup.js","src/js/templates/modalCardMarkap.js","src/js/handlers/localStorageOptions.js","src/js/handlers/modalCardOptions.js","src/js/renderModalCard.js","src/js/handlers/onModalCardHandlers.js","src/index.js","src/js/templates/render-basic-gallery.js","src/js/templates/render-footer.js","src/js/templates/render-backdrop.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"5ZPII\\\":\\\"index.7a2bc171.js\\\",\\\"lp5u4\\\":\\\"sprite.47a876e0.svg\\\",\\\"5UbS1\\\":\\\"index.f1288467.css\\\"}\"));","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"lp5u4\")).toString();","const BASE_URL = 'https://api.themoviedb.org/3';\nconst KEY = '81f57ce8a5863d84fdab7c29ba0c37c2';\n\nexport default class ApiService {\n  constructor() {\n    this.searchQuery = '';\n    this.page = 1;\n    this.searchId = '66732';\n  }\n\n  fetchGenres(type) {\n    const url = `${BASE_URL}/genre/${type}/list?api_key=${KEY}&language=en-US`;\n    return fetch(url).then(res => res.json());\n  }\n\n  fetchTrending() {\n    const url = `${BASE_URL}/trending/movie/day?api_key=${KEY}&page=${this.page}`;\n\n    return fetch(url).then(res => res.json());\n  }\n\n  fetchSearchMovie() {\n    const url = `${BASE_URL}/search/movie?api_key=${KEY}&language=en-US&query=${this.searchQuery}&page=${this.page}&include_adult=false`;\n\n    return fetch(url).then(res => res.json());\n  }\n\n  fetchMovieDetails(movieId) {\n    const url = `${BASE_URL}/movie/${movieId}?api_key=${KEY}&language=en-US`;\n\n    return fetch(url).then(res => res.json());\n  }\n\n  incrementPage() {\n    this.page += 1;\n  }\n\n  decrementPage() {\n    this.page -= 1;\n  }\n\n  get pageNumber() {\n    return this.page;\n  }\n\n  set pageNumber(number) {\n    this.page = number;\n  }\n\n  resetPage() {\n    this.page = 1;\n  }\n\n  get query() {\n    return this.searchQuery;\n  }\n\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n\n  get movieId() {\n    return this.searchId;\n  }\n\n  set movieId(newId) {\n    this.searchId = newId;\n  }\n}\n\n//\n","// import refs from '../refs';\n// import Api from '../api-service';\n// import ApiService from '../api-service';\n//import { appService } from '../../index';\n// const IMG_URL = 'https://image.tmdb.org/t/p/w500/';\n// const appService = new Api();\n\n// appService.fetchTrending().then(handleResponse);\n\n// function handleResponse(response) {\n//   const cards = response.results;\n//   console.log(response);\n\n//   Promise.all([appService.fetchGenres('movie'), appService.fetchGenres('tv')])\n//     .then(allGenres => {\n//       const genres = allGenres.map(r => r.genres);\n//       const mergedGenres = [].concat.apply([], genres);\n//       const genreMap = new Map(\n//         mergedGenres.map(object => {\n//           return [object.id, object.name];\n//         })\n//       );\n//       renderPopularCards(cards, genreMap);\n//     })\n//     .catch(error => {\n//       console.log(error);\n//     });\n// }\n\nexport default function renderPopularCards(cards, genres) {\n  // console.log(cards);\n  // console.log(genres);\n  const markup = cards\n    .map(\n      ({\n        poster_path,\n        backdrop_path,\n        original_title,\n        original_name,\n        genre_ids,\n        release_date,\n        first_air_date,\n        vote_average,\n        id,\n      }) => {\n        const date = release_date ? release_date : first_air_date;\n        const name = original_title ? original_title : original_name;\n        const poster_url = poster_path ? poster_path : backdrop_path;\n        // const dateArr = date.split('-');\n\n        const year = new Date(date).getFullYear();\n        // console.log(dateArr);\n        // const year = dateArr[0];\n        // console.log(year);\n        // console.log(genre_ids);\n        const genreArr = genre_ids.slice(0, 2).map(id => genres.get(id));\n\n        if (genre_ids.length > 2) {\n          genreArr.push('others');\n        }\n\n        const genreStr = genreArr.join(', ');\n        // console.log(genreStr);\n        const vote = vote_average.toFixed(1);\n\n        return `<li class=\"gallery__item card\" data-id=\"${id}\">\n          <img\n            class=\"card__image\"\n            src=\"https://image.tmdb.org/t/p/w500/${poster_url}\"\n            alt=\"poster\"\n            loading=\"lazy\"\n          />\n          <div class=\"card__info\" >\n            <p class=\"card__title\">${name}</p>\n            <div class=\"card__movie-info\">\n              <p class=\"card__genre\">${genreStr}</p>\n              <span class=\"vertical\">&nbsp|&nbsp</span>\n              <p class=\"card__release\">${year}</p>\n              <p class=\"card__rating\">${vote}</p>\n            </div>\n          </div>\n      </li>`;\n      }\n    )\n    .join('');\n\n  return markup;\n  // refs.galleryList.insertAdjacentHTML('beforeend', markup);\n\n  // console.log(markup);\n}\n","import icon from '../../images/sprite.svg';\n\nexport default function makePaginatuonBtnMarkup(currentPage, lastPage) {\n  const prevArow = `<button class=\"pagination__arrow pagination__arrow-left\" id='previous'>\n                      <svg class=\"pagination-arrow-icon\" >\n                        <use href=\"${icon}#icon-arrow-left\"></use>\n                      </svg>\n                    </button>`;\n  const nextArow = `<button class=\"pagination__arrow pagination__arrow-right\" id='next'>\n                      <svg class=\"pagination-arrow-icon\">\n                        <use href=\"${icon}#icon-arrow-right\" ></use>\n                      </svg>\n                    </button>`;\n  const firstPageBtn = `<li class=\"item\">\n                          <button class=\"pagination__btn\">1</button>\n                        </li>`;\n  const moreBtn = `<li class=\"item\">\n                    <button class=\"pagination-btn-more\">...</button>\n                  </li>`;\n  const prevPrevBtn = `<li class=\"item\">\n                        <button class=\"pagination__btn\">${\n                          currentPage - 2\n                        }</button>\n                      </li>`;\n  const prevBtn = `<li class=\"item\">\n                    <button class=\"pagination__btn\">${currentPage - 1}</button>\n                  </li>`;\n  const currentBtn = `<li class=\"item\">\n                        <button class=\"pagination__btn pagination__btn--choice\">${currentPage}</button>\n                      </li>`;\n  const nextBtn = `<li class=\"item\">\n                    <button class=\"pagination__btn\">${currentPage + 1}</button>\n                  </li>`;\n  const nextNextBtn = ` <li class=\"item\">\n                          <button class=\"pagination__btn\">${\n                            currentPage + 2\n                          }</button>\n                        </li>`;\n  const lastBtn = `<li class=\"item\">\n                    <button class=\"pagination__btn\">${lastPage}</button>\n                  </li>`;\n\n  if (currentPage === 1) {\n    return ` <ul class=\"pagination-list\">\n              ${currentBtn} \n              ${nextBtn}\n              ${nextNextBtn}\n              ${moreBtn}\n              ${lastBtn}\n            </ul>\n            ${nextArow}`;\n  }\n\n  if (currentPage === 2) {\n    return `${prevArow}\n            <ul class=\"pagination-list\">\n              ${prevBtn}\n              ${currentBtn} \n              ${nextBtn}\n              ${nextNextBtn}\n              ${moreBtn}\n              ${lastBtn}\n            </ul>\n            ${nextArow}`;\n  }\n\n  if (currentPage === 3) {\n    return `${prevArow}\n            <ul class=\"pagination-list\">\n              ${prevPrevBtn}\n              ${prevBtn}\n              ${currentBtn} \n              ${nextBtn}\n              ${nextNextBtn}\n              ${moreBtn}\n              ${lastBtn}\n            </ul>\n            ${nextArow}`;\n  }\n\n  if (currentPage === lastPage - 2) {\n    return `${prevArow}\n            <ul class=\"pagination-list\">\n              ${firstPageBtn}\n              ${moreBtn}\n              ${prevPrevBtn}\n              ${prevBtn}\n              ${currentBtn} \n              ${nextBtn}\n              ${nextNextBtn}\n            </ul>\n            ${nextArow}`;\n  }\n\n  if (currentPage === lastPage - 1) {\n    return `${prevArow}\n            <ul class=\"pagination-list\">\n              ${firstPageBtn}\n              ${moreBtn}\n              ${prevPrevBtn}\n              ${prevBtn}\n              ${currentBtn} \n              ${nextBtn}\n            </ul>\n            ${nextArow}`;\n  }\n\n  if (currentPage === lastPage) {\n    return `${prevArow}\n            <ul class=\"pagination-list\">\n              ${firstPageBtn}\n              ${moreBtn}\n              ${prevPrevBtn}\n              ${prevBtn}\n              ${currentBtn} \n            </ul>`;\n  }\n\n  return `${prevArow}\n            <ul class=\"pagination-list\">\n              ${firstPageBtn}\n              ${moreBtn}\n              ${prevPrevBtn}\n              ${prevBtn}\n              ${currentBtn} \n              ${nextBtn}\n              ${nextNextBtn}\n              ${moreBtn}\n              ${lastBtn}\n            </ul>\n            ${nextArow}`;\n}\n","import Api from '../js/api-service';\nimport handleResponse from './handlers/handlerResponse';\n\nconst appService = new Api();\n\nfunction initRenderTrendingMovie() {\n  appService.fetchTrending().then(handleResponse).catch(console.log);\n}\n\nexport { initRenderTrendingMovie, appService };\n","// import Api from '../js/api-service';\n\nimport makePaginatuonBtnMarkup from './templates/paginationMarkup';\nimport { initRenderTrendingMovie, appService } from './createTrandingMovieCars';\n\n// const appService = new Api();\n\nexport default function createPaginationBtn(data) {\n  const paginatioRef = document.querySelector('.pagination');\n  const currentPage = appService.pageNumber;\n  const lastPage = data.total_pages;\n\n  paginatioRef.innerHTML = makePaginatuonBtnMarkup(currentPage, lastPage);\n\n  // ------------- Логіка роботи кнопок пагінаціі -----------\n  paginatioRef.addEventListener('click', onPaginationBtnClick);\n\n  function onPaginationBtnClick(e) {\n    e.preventDefault();\n    // console.log(e);\n\n    if (+e.target.textContent === currentPage) {\n      console.log('Поточна сторінка');\n      return;\n    }\n\n    if (e.target.id === 'next') {\n      appService.incrementPage();\n\n      paginatioRef.removeEventListener('click', onPaginationBtnClick);\n\n      initRenderTrendingMovie();\n      return;\n    }\n\n    if (e.target.id === 'previous') {\n      appService.decrementPage();\n\n      paginatioRef.removeEventListener('click', onPaginationBtnClick);\n\n      initRenderTrendingMovie();\n      return;\n    }\n\n    if (e.target.nodeName === 'BUTTON') {\n      appService.pageNumber = +e.target.textContent;\n      paginatioRef.removeEventListener('click', onPaginationBtnClick);\n      initRenderTrendingMovie();\n    }\n  }\n}\n","import Api from '../api-service';\n\nimport renderPopularCards from '../templates/render-popular-card';\nimport createPaginationBtn from '../createPaginationBtn';\n\nconst appService = new Api();\n\nexport default function handleResponse(response) {\n  // console.log(response);\n  const cards = response.results;\n\n  Promise.all([appService.fetchGenres('movie'), appService.fetchGenres('tv')])\n    .then(allGenres => {\n      const genres = allGenres.flatMap(r => r.genres);\n      const genreMap = new Map(\n        genres.map(object => {\n          return [object.id, object.name];\n        })\n      );\n      const galleryRef = document.querySelector('.gallery');\n      galleryRef.innerHTML = renderPopularCards(cards, genreMap);\n\n      createPaginationBtn(response);\n    })\n    .catch(console.log);\n}\n","import Api from '../api-service';\nconst appService = new Api();\nimport handleResponse from './handlerResponse';\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  const searchForm = document.querySelector('#search-movie');\n  console.log(searchForm);\n  searchForm.addEventListener('submit', onSearchMovie);\n});\n\nconst onSearchMovie = e => {\n  e.preventDefault();\n  const queryString = e.currentTarget.elements.searchQuery.value.trim();\n\n  if (queryString === '') {\n    console.log('Пустий пошук');\n    //Зробити повідомлення про пустий пошук\n    return;\n  }\n  appService.query = queryString;\n\n  appService.resetPage();\n  appService.fetchSearchMovie().then(handleResponse).catch(console.log);\n};\n\nexport { onSearchMovie, appService };\n","import createHeaderHomeMarkup from './createHeaderHomeMarkup';\nimport { onLibraryLinkClick } from '../../handlers/onLibraryLinkClick';\nimport { onSearchMovie } from '../../handlers/onSearchMovie';\n\nconst renderHomeHeader = () => {\n  const headerElement = document.querySelector('.header');\n\n  headerElement.innerHTML = createHeaderHomeMarkup();\n  headerElement.classList.remove('additional-bg');\n\n  const libraryLink = document.getElementById('libraryLink');\n  libraryLink.addEventListener('click', onLibraryLinkClick);\n\n  const searchInput = document.getElementById('search-movie');\n  searchInput.addEventListener('submit', onSearchMovie);\n};\n\nexport { renderHomeHeader };\n","import icon from '../../../images/sprite.svg';\n\nexport default function createHeaderHomeMarkup() {\n  return `<div class=\"nav-wrap\">\n    <a href=\"#\" class=\"header__logo\" id=\"logoLink\">\n     <svg class=\"header__icon\">\n        <use href=\"${icon}#icon-main-logo\"></use>\n      </svg>\n      <span class=\"header__text\">Filmoteka</span>\n    </a>\n    <nav>\n      <ul class=\"nav-list\">\n        <li class=\"nav-list__item\">\n          <a\n            class=\"nav-list__link nav-list__link--current\"\n            href=\"#\"\n            id=\"homeLink\"\n            >Home</a\n          >\n        </li>\n        <li class=\"nav-list__item\">\n          <a class=\"nav-list__link\" href=\"#\" id=\"libraryLink\">My library</a>\n        </li>\n      </ul>\n    </nav>\n  </div>\n  <div class=\"search-form-wrap\">\n    <form class=\"search-form\" id=\"search-movie\">\n      <input\n        class=\"search-form__input\"\n        name=\"searchQuery\"\n        type=\"text\"\n        placeholder=\"Movie search\"\n      />\n      <button class=\"search-form__button-submit\" type=\"submit\">\n       <svg width=\"12\" height=\"12\">\n          <use href=\"${icon}#icon-search\"></use>\n        </svg>\n      </button>\n    </form>\n  </div>\n  <p class=\"notification\">\n    Search result is not successful. Enter the correct movie name and try again.\n  </p>\n`;\n}\n","import { renderHomeHeader } from '../templates/header/renderHomeHeader';\n\nconst onHomeLinkClick = event => {\n  event.preventDefault();\n\n  renderHomeHeader();\n};\n\nexport { onHomeLinkClick };\n","import createHeaderLibraryMarkup from './createHeaderLibraryMarkup';\nimport { onHomeLinkClick } from '../../handlers/onHomeLinkClick';\n\nconst renderLibraryHeader = () => {\n  const headerElement = document.querySelector('.header');\n\n  headerElement.innerHTML = createHeaderLibraryMarkup();\n  headerElement.classList.add('additional-bg');\n\n  const homeLink = document.getElementById('homeLink');\n  const logoLink = document.getElementById('logoLink');\n  homeLink.addEventListener('click', onHomeLinkClick);\n  logoLink.addEventListener('click', onHomeLinkClick);\n};\n\nexport { renderLibraryHeader };\n","import icon from '../../../images/sprite.svg';\n\nexport default function createHeaderLibraryMarkup() {\n  return `<div class=\"nav-wrap additional-margin\">\n    <a href=\"#\" class=\"header__logo\" id=\"logoLink\">\n      <svg class=\"header__icon\">\n        <use href=\"${icon}#icon-main-logo\"></use>\n      </svg>\n      <span class=\"header__text\">Filmoteka</span>\n    </a>\n    <nav>\n      <ul class=\"nav-list\">\n        <li class=\"nav-list__item\">\n          <a class=\"nav-list__link\" href=\"#\" id=\"homeLink\">Home</a>\n        </li>\n        <li class=\"nav-list__item\">\n          <a class=\"nav-list__link nav-list__link--current\" href=\"#\" id=\"libraryLink\"\n            >My library</a\n          >\n        </li>\n      </ul>\n    </nav>\n  </div>\n  <ul class=\"button-list\">\n    <li class=\"button-list__item\">\n      <button class=\"button-list__btn button-list__btn--current\" type=\"button\">\n        Watched\n      </button>\n    </li>\n    <li class=\"button-list__item\">\n      <button class=\"button-list__btn\" type=\"button\">Queue</button>\n    </li>\n  </ul>\n`;\n}\n","function renderLibraryCards(cards) {\n  const markup = cards\n    .map(\n      ({\n        poster_path,\n        original_title,\n        original_name,\n        genres,\n        release_date,\n        first_air_date,\n        vote_average,\n        id,\n      }) => {\n        const date = release_date ? release_date : first_air_date;\n        const year = new Date(date).getFullYear();\n        const name = original_title ? original_title : original_name;\n        const vote = vote_average ? vote_average.toFixed(1) : 'N/A';\n\n        const genreArr = genres\n          ? genres.slice(0, 2).map(genre => genre.name)\n          : [];\n\n        if (genres.length > 2 || genres.length === 0) {\n          genreArr.push('Others');\n        }\n\n        const genreStr = genreArr.join(', ');\n\n        return `<li class=\"gallery__item card\" data-id=\"${id}\">\n          <img\n            class=\"card__image\"\n            src=\"https://image.tmdb.org/t/p/w500/${poster_path}\"\n            alt=\"poster\"\n            loading=\"lazy\"\n          />\n          <div class=\"card__info\" >\n            <p class=\"card__title\">${name}</p>\n            <div class=\"card__movie-info\">\n              <p class=\"card__genre\">${genreStr}</p>\n              <span class=\"vertical\">&nbsp|&nbsp</span>\n              <p class=\"card__release\">${year}</p>\n              <p class=\"card__rating\">${vote}</p>\n            </div>\n          </div>\n      </li>`;\n      }\n    )\n    .join('');\n\n  return markup;\n}\n\nexport { renderLibraryCards };\n","const WATCHED_LIST_STORAGE_KEY = 'watched-list';\nconst QUEUE_LIST_STORAGE_KEY = 'queue-list';\n\nconst localStorageApi = {\n  getWatchedList() {\n    try {\n      return JSON.parse(localStorage.getItem(WATCHED_LIST_STORAGE_KEY));\n    } catch (error) {\n      console.log(error);\n    }\n  },\n\n  setWatchedList(list) {\n    localStorage.setItem(WATCHED_LIST_STORAGE_KEY, JSON.stringify(list));\n  },\n\n  getQueueList() {\n    try {\n      return JSON.parse(localStorage.getItem(QUEUE_LIST_STORAGE_KEY));\n    } catch (error) {\n      console.log(error);\n    }\n  },\n\n  setQueueList(list) {\n    localStorage.setItem(QUEUE_LIST_STORAGE_KEY, JSON.stringify(list));\n  },\n\n  isWatchedListEmpty() {\n    const watchedList = this.getWatchedList();\n    return !watchedList || watchedList.length === 0 ? true : false;\n  },\n\n  isQueueListEmpty() {\n    const queueList = this.getQueueList();\n    return !queueList || queueList.length === 0 ? true : false;\n  },\n\n  isMovieInWatchedList(movieId) {\n    if (this.isWatchedListEmpty()) {\n      return false;\n    }\n\n    const parsedMovies = this.getWatchedList();\n    return parsedMovies.includes(movieId) ? true : false;\n  },\n\n  isMovieInQueueList(movieId) {\n    if (this.isQueueListEmpty()) {\n      return false;\n    }\n\n    const parsedMovies = this.getQueueList();\n    return parsedMovies.includes(movieId) ? true : false;\n  },\n\n  addMovieToWatchedList(movieId) {\n    if (this.isWatchedListEmpty()) {\n      localStorage.setItem(WATCHED_LIST_STORAGE_KEY, JSON.stringify([movieId]));\n    } else {\n      const parsedMovies = this.getWatchedList();\n      parsedMovies.push(movieId);\n      this.setWatchedList(parsedMovies);\n    }\n  },\n\n  addMovieToQueueList(movieId) {\n    if (this.isQueueListEmpty()) {\n      localStorage.setItem(QUEUE_LIST_STORAGE_KEY, JSON.stringify([movieId]));\n    } else {\n      const parsedMovies = this.getQueueList();\n      parsedMovies.push(movieId);\n      this.setQueueList(parsedMovies);\n    }\n  },\n\n  removeMovieFromWatchedList(movieId) {\n    const parsedMovies = this.getWatchedList();\n    const changedList = parsedMovies.filter(id => id !== movieId);\n    this.setWatchedList(changedList);\n  },\n\n  removeMovieFromQueueList(movieId) {\n    const parsedMovies = this.getQueueList();\n    const changedList = parsedMovies.filter(id => id !== movieId);\n    this.setQueueList(changedList);\n  },\n\n  // ================ Если мы захотим сделать кнопку очистить список полностью ==================\n\n  clearWatchedList() {\n    localStorage.removeItem(WATCHED_LIST_STORAGE_KEY);\n  },\n\n  clearQueueList() {\n    localStorage.removeItem(QUEUE_LIST_STORAGE_KEY);\n  },\n};\n\nexport { localStorageApi };\n","import Api from '../api-service';\nimport { renderLibraryCards } from './renderLibraryCards';\nimport { localStorageApi } from '../localStorageApi';\n\nconst apiService = new Api();\n\nfunction renderQueueList() {\n  const galleryElement = document.querySelector('.gallery');\n  const queueList = localStorageApi.getQueueList();\n\n  galleryElement.innerHTML = '';\n\n  const movieCards = queueList.map(id =>\n    apiService.fetchMovieDetails(id).catch(error => console.log(error))\n  );\n\n  Promise.all(movieCards)\n    .then(cards => {\n      const libraryMarkup = renderLibraryCards(cards);\n      galleryElement.innerHTML = libraryMarkup;\n    })\n    .catch(error => console.log(error));\n}\n\nexport { renderQueueList };\n","import { renderLibraryHeader } from '../templates/header/renderLibraryHeader';\nimport { renderQueueList } from '../templates/renderQueueList';\n\n// Добавить проверку авторизации в начало\n\nconst onLibraryLinkClick = event => {\n  event.preventDefault();\n\n  renderLibraryHeader();\n  renderQueueList();\n};\n\nexport { onLibraryLinkClick };\n","import createInitialHeaderMarkup from './createInitialHeaderMarkup';\nimport { onLibraryLinkClick } from '../../handlers/onLibraryLinkClick';\nimport { onSearchMovie } from '../../handlers/onSearchMovie';\n\n// после инициализации блок header остается и рендеририться будет только разметка внутри\n// оставляю фиксированный блок для того, чтобы при переходе на другие страницы, не прыгала разметка\nconst rootRef = document.querySelector('#root');\n\nconst initHeader = () => {\n  const headerMarkup = createInitialHeaderMarkup();\n  rootRef.insertAdjacentHTML('afterbegin', headerMarkup);\n  // document.body.insertAdjacentHTML('afterbegin', headerMarkup);\n\n  const libraryLink = document.getElementById('libraryLink');\n  libraryLink.addEventListener('click', onLibraryLinkClick);\n\n  const searchInput = document.getElementById('search-movie');\n  searchInput.addEventListener('submit', onSearchMovie);\n};\n\nexport { initHeader };\n","import icon from '../../../images/sprite.svg';\n\nexport default function createInitialHeaderMarkup() {\n  return `<header class=\"header container\">\n  <div class=\"nav-wrap\">\n    <a href=\"#\" class=\"header__logo\" id=\"logoLink\">\n      <svg class=\"header__icon\">\n        <use href=\"${icon}#icon-main-logo\"></use>\n      </svg>\n      <span class=\"header__text\">Filmoteka</span>\n    </a>\n    <nav>\n      <ul class=\"nav-list\">\n        <li class=\"nav-list__item\">\n          <a\n            class=\"nav-list__link nav-list__link--current\"\n            href=\"#\"\n            id=\"homeLink\"\n            >Home</a\n          >\n        </li>\n        <li class=\"nav-list__item\">\n          <a class=\"nav-list__link\" href=\"#\" id=\"libraryLink\">My library</a>\n        </li>\n      </ul>\n    </nav>\n  </div>\n  <div class=\"search-form-wrap\">\n    <form class=\"search-form\" id=\"search-movie\">\n      <input\n        class=\"search-form__input\"\n        name=\"searchQuery\"\n        type=\"text\"\n        placeholder=\"Movie search\"\n      />\n      <button class=\"search-form__button-submit\" type=\"submit\">\n        <svg width=\"12\" height=\"12\">\n          <use href=\"${icon}#icon-search\"></use>\n        </svg>\n      </button>\n    </form>\n  </div>\n  <p class=\"notification\">\n    Search result is not successful. Enter the correct movie name and try again.\n  </p>\n</header>`;\n}\n","import icon from '../../images/sprite.svg';\nconst IMG_URL = 'https://image.tmdb.org/t/p/w500/';\nexport default function createModalMarkup({\n  poster_path,\n  genres = [],\n  vote_count,\n  vote_average,\n  original_title,\n  popularity,\n  title,\n  overview,\n}) {\n  const genersList = genres.map(element => element.name);\n  return `<div class=\"modal\">\n    <button class=\"modal__close\" data-action=\"close-modal\"><svg class=\"modal__close-icon\" width=\"14\" height=\"14\">\n        <use href=\"${icon}#icon-close\"></use>\n      </svg></button>\n \n      <img class=\"modal__img\" src=${IMG_URL}${poster_path} alt=\"poster\" />\n  \n    <div class=\"modal__description-wrap\">\n      <h2 class=\"modal__title\">${title}</h2>\n      <table class=\"modal__info\">\n  <tr>\n    <td class=\"modal__info-key\">Vote/votes</td>\n    <td \"modal__info-value\">\n    <span class=\"modal__info-value--accent\">${vote_average}</span>\n     <span class=\"modal__info-value--slash\">/ </span\n    ><span class=\"modal__info-value--grey\">${vote_count}</span>\n    </td>\n  </tr>\n  <tr>\n    <td class=\"modal__info-key\">Popularity</td>\n    <td \"modal__info-value\">${popularity}</td>\n  </tr>\n  <tr>\n    <td class=\"modal__info-key\">Original Title</td>\n    <td \"modal__info-value\">${original_title}</td>\n  </tr>\n  <tr>\n    <td class=\"modal__info-key\">Genre</td>\n    <td \"modal__info-value\">${genersList}</td>\n  </tr>\n</table>\n    \n      <h3 class=\"modal__about-title\">About</h3>\n      <p class=\"modal__about-text\">\n        ${overview}\n      </p>\n      <div class=\"modal__option\">\n        <button class=\"btn-add-wached\" data-action=\"add-wached\">add to Watched</button>\n        <button class=\"btn-add-queue\" data-action=\"add-queue\">add to queue</button>\n      </div>\n    </div>\n  </div>`;\n}\n","export { onBtnAddToQueueClick, onBtnAddWachedClick };\nimport { localStorageApi } from '../localStorageApi';\n\nfunction onBtnAddToQueueClick(e) {\n  if (e.target.dataset.action === 'add-queue') {\n    const addToQueue = document.querySelector('.btn-add-queue');\n    const addWached = document.querySelector('.btn-add-wached');\n    const filmId = e.currentTarget.getAttribute('id');\n    localStorageApi.isMovieInQueueList(filmId)\n      ? localStorageApi.removeMovieFromQueueList(filmId)\n      : localStorageApi.addMovieToQueueList(filmId);\n    addToQueue.classList.toggle('isActive');\n    localStorageApi.isMovieInQueueList(filmId)\n      ? (addToQueue.textContent = 'delete to queue')\n      : (addToQueue.textContent = 'add to queue');\n    console.log(localStorageApi.getQueueList());\n    if (!addToQueue.disabled && !addWached.disabled) {\n      return (addWached.disabled = true);\n    }\n    if (addWached.disabled) {\n      return (addWached.disabled = false);\n    }\n  }\n}\nfunction onBtnAddWachedClick(e) {\n  if (e.target.dataset.action === 'add-wached') {\n    const addWached = document.querySelector('.btn-add-wached');\n    const addToQueue = document.querySelector('.btn-add-queue');\n    const filmId = e.currentTarget.getAttribute('id');\n    localStorageApi.isMovieInWatchedList(filmId)\n      ? localStorageApi.removeMovieFromWatchedList(filmId)\n      : localStorageApi.addMovieToWatchedList(filmId);\n    addWached.classList.toggle('isActive');\n    localStorageApi.isMovieInWatchedList(filmId)\n      ? (addWached.textContent = 'delete to wached')\n      : (addWached.textContent = 'add to watched');\n    console.log(localStorageApi.getWatchedList());\n    if (!addToQueue.disabled && !addWached.disabled) {\n      return (addToQueue.disabled = true);\n    }\n    if (addToQueue.disabled) {\n      return (addToQueue.disabled = false);\n    }\n  }\n}\n","export { openModal };\nimport {\n  onBtnAddToQueueClick,\n  onBtnAddWachedClick,\n} from './localStorageOptions';\n// // знімає is.hidden з refs.backdrop та додає слухачів\n\nfunction openModal() {\n  let backdropEl = document.querySelector('.backdrop');\n  backdropEl.classList.remove('is-hidden');\n  document.addEventListener('keydown', onCloseEsc);\n  backdropEl.addEventListener('click', onBtnCloseModalClick);\n  backdropEl.addEventListener('click', onBtnAddToQueueClick);\n  backdropEl.addEventListener('click', onBtnAddWachedClick);\n}\n// //додає is.hidden на refs.backdrop та знімає слухачів\nfunction closeModal() {\n  let backdropEl = document.querySelector('.backdrop');\n  backdropEl.classList.add('is-hidden');\n  document.removeEventListener('keydown', onCloseEsc);\n  backdropEl.removeEventListener('click', onBtnCloseModalClick);\n  backdropEl.removeEventListener('click', onBtnAddToQueueClick);\n  backdropEl.removeEventListener('click', onBtnAddWachedClick);\n}\n\n// // закриття по Esc\nfunction onCloseEsc(e) {\n  if (e.code === 'Escape') {\n    closeModal();\n  }\n}\n// // закриття по кнопкі або по кліку на бєкдроп\nfunction onBtnCloseModalClick(e) {\n  if (\n    e.target.dataset.action === 'close-modal' ||\n    e.currentTarget === e.target\n  ) {\n    closeModal();\n  }\n}\n","import ApiService from './api-service';\nimport createModalMarkup from './templates/modalCardMarkap';\nimport { openModal } from './handlers/modalCardOptions';\nimport { localStorageApi } from './localStorageApi';\n\nconst appService = new ApiService();\n\nexport default async function renderModalCard(movieId) {\n  let backdropEl = document.querySelector('.backdrop');\n  backdropEl.setAttribute('id', movieId);\n  const data = await appService.fetchMovieDetails(movieId);\n  const markup = await createModalMarkup(data);\n  await uppendModalMarkap(markup);\n  const addToQueue = document.querySelector('.btn-add-queue');\n  const addWached = document.querySelector('.btn-add-wached');\n  if (localStorageApi.isMovieInQueueList(movieId)) {\n    addToQueue.textContent = 'delete to queue';\n    addToQueue.classList.toggle('isActive');\n    addWached.disabled = true;\n  }\n  if (localStorageApi.isMovieInWatchedList(movieId)) {\n    addWached.textContent = 'delete to Wached';\n    addWached.classList.toggle('isActive');\n    addToQueue.disabled = true;\n  }\n  openModal();\n}\n\nasync function uppendModalMarkap(markup) {\n  let backdropEl = document.querySelector('.backdrop');\n  backdropEl.innerHTML = markup;\n}\n","import renderModalCard from '../renderModalCard';\nexport { onCardClick };\n\nasync function onCardClick(e) {\n  let backdropEl = document.querySelector('.backdrop');\n  backdropEl = document.querySelector('.backdrop');\n  if (e.target.classList.contains('gallery__item')) {\n    const filmId = e.target.dataset.id;\n    await renderModalCard(filmId);\n  }\n}\n","import './sass/index.scss';\n\n// import refs from './js/refs'; // do not work\n\n// import Api from './js/api-service';\n\n// import renderModalCard from './js/templates/render-card-modal';\nimport makeBasicGalleryMarkup from './js/templates/render-basic-gallery';\nimport renderFooter from './js/templates/render-footer';\nimport { initHeader } from './js/templates/header/initHeader';\nimport { initRenderTrendingMovie } from './js/createTrandingMovieCars';\nimport renderBackdrop from './js/templates/render-backdrop';\nimport { onCardClick } from './js/handlers/onModalCardHandlers';\n\n// import Spiner from './js/spiner';\n\n// import renderPopularCards from './js/templates/render-popular-card';\n\n// const spiner = new Spiner();\n\n// const appService = new Api();\n\n// -------------Створює початкову розмітку сайту-----------\nconst rootRef = document.querySelector('#root');\n\ndocument.addEventListener('DOMContentLoaded', createSiteMarkup(), {\n  once: true,\n});\n\nfunction createSiteMarkup() {\n  initHeader();\n  rootRef.insertAdjacentHTML('beforeend', makeBasicGalleryMarkup());\n  rootRef.insertAdjacentHTML('beforeend', renderFooter());\n  rootRef.insertAdjacentHTML('beforeend', renderBackdrop());\n  const galleryList = document\n    .querySelector('.gallery')\n    .addEventListener('click', onCardClick);\n\n  initRenderTrendingMovie();\n}\n\n// ------------------------------------------------------------\n\n// -------------Для рендеру карток головної сторінки-----------\n\n// const galleryRef = document.querySelector('.gallery');\n\n// function initRenderTrendingMovie() {\n//   appService.fetchTrending().then(handleResponse).catch(console.log);\n// }\n\n// function handleResponse(response) {\n//   console.log(response);\n//   const cards = response.results;\n\n//   Promise.all([appService.fetchGenres('movie'), appService.fetchGenres('tv')])\n//     .then(allGenres => {\n//       const genres = allGenres.flatMap(r => r.genres);\n//       const genreMap = new Map(\n//         genres.map(object => {\n//           return [object.id, object.name];\n//         })\n//       );\n\n//       // galleryRef.insertAdjacentHTML(\n//       //   'beforeend',\n//       //   renderPopularCards(cards, genreMap)\n//       // );\n\n//       galleryRef.innerHTML = renderPopularCards(cards, genreMap);\n\n//       renderPaginationBtn(response);\n//     })\n//     .catch(error => {\n//       console.log(error);\n//     });\n// }\n\n// ------------------------------------------------\n\n// ------------- Для рендеру кнопок пагінаціі -----------\n\n// function renderPaginationBtn(data) {\n//   const paginatioRef = document.querySelector('.pagination');\n//   const currentPage = appService.pageNumber;\n//   const lastPage = data.total_pages;\n\n//   paginatioRef.innerHTML = makePaginatuonBtnMarkup(currentPage, lastPage);\n\n//   // ------------- Логіка роботи кнопок пагінаціі -----------\n//   paginatioRef.addEventListener('click', onPaginationBtnClick);\n\n//   function onPaginationBtnClick(e) {\n//     e.preventDefault();\n//     console.log(e);\n//     if (+e.target.textContent === currentPage) {\n//       console.log('Поточна сторінка');\n//       return;\n//     }\n\n//     if (e.target.id === 'next') {\n//       appService.incrementPage();\n\n//       paginatioRef.removeEventListener('click', onPaginationBtnClick);\n\n//       initRenderTrendingMovie();\n//       return;\n//     }\n\n//     if (e.target.id === 'previous') {\n//       appService.decrementPage();\n\n//       paginatioRef.removeEventListener('click', onPaginationBtnClick);\n\n//       initRenderTrendingMovie();\n//       return;\n//     }\n\n//     if (e.target.nodeName === 'BUTTON') {\n//       appService.pageNumber = +e.target.textContent;\n//       paginatioRef.removeEventListener('click', onPaginationBtnClick);\n//       initRenderTrendingMovie();\n//     }\n//   }\n\n// }\n// ------------------------------------------------\n\n// -------------Поіск фільму по назві-----------\n// document\n//   .querySelector('#search-movie')\n//   .addEventListener('submit', onSearchMovie);\n\n// function onSearchMovie(e) {\n//   e.preventDefault();\n\n//   appService.query = e.currentTarget.elements.searchQuery.value.trim();\n\n//   const isEmptySearch = appService.searchQuery === '';\n\n//   if (isEmptySearch) {\n//     console.log('Пустий пошук');\n//     //Зробити повідомлення про пустий пошук\n//     return;\n//   }\n\n//   appService.resetPage();\n//   appService.fetchSearchMovie().then(handleResponse).catch(console.log);\n// }\n\n// ------------------------------------------------\n\n// тест відкриття модали з ID фшльму 12 (розкоментуй renderModalCard)\n// renderModalCard(12);\n// експорт для доступу в функції renderModalCard\n// export { appService };\n","export default function makeBasicGalleryMarkup() {\n  return `\n  <section class=\"section\">\n  <div class=\"container\">\n    <h2 class=\"visually-hidden\">Gallery list</h2>\n    <ul class=\"gallery\"></ul>\n    <div class=\"pagination\">\n      \n    </div>\n  </div>\n</section>`;\n}\n","import icon from '../../images/sprite.svg';\n\nfunction renderFooter() {\n  return `<footer>\n  <div class=\"footer__container container\">\n    <p class=\"footer__text\">© 2020 | All Rights Reserved |</p>\n    <p class=\"footer__text\">\n      Developed with<svg xmlns=\"http://www.w3.org/2000/svg\" id=\"icon-heart\" class=\"footer__icon\" viewBox=\"0 0 34 32\" width=\"14\" height=\"13\">\n      <path\n        d=\"M17.231 31.705l-2.412-2.412c-8.96-7.926-14.818-13.268-14.818-19.815 0-5.342 4.135-9.477 9.477-9.477 2.929 0 5.858 1.378 7.754 3.618 1.895-2.24 4.825-3.618 7.754-3.618 5.342 0 9.477 4.135 9.477 9.477 0 6.548-5.858 11.889-14.818 19.815l-2.412 2.412z\"\n      ></path>\n    </svg>by\n      <button type=\"button\" class=\"footer__button\">GoIT Students</button>\n    </p>\n  </div>\n</footer>`;\n}\n\nexport default renderFooter;\n","export default function renderBackdrop() {\n  return `<div class=\"backdrop is-hidden\"></div>`;\n}\n"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$a4212a039eccdb43$exports","URL","resolve","import","meta","url","toString","$55b58e231f028392$export$2e2bcd8739ae039","fetchGenres","type","fetch","then","res","json","fetchTrending","this","page","fetchSearchMovie","searchQuery","fetchMovieDetails","movieId","incrementPage","decrementPage","pageNumber","number","resetPage","query","newQuery","searchId","newId","constructor","$1c2eb5d764315a92$export$2e2bcd8739ae039","cards","genres","map","poster_path","backdrop_path","original_title","original_name","genre_ids","release_date","first_air_date","vote_average","id1","name","poster_url","year","Date","getFullYear","genreArr","slice","get","push","join","toFixed","$dbd1de772a3890b8$export$2e2bcd8739ae039","currentPage","lastPage","prevArow","$parcel$interopDefault","nextArow","firstPageBtn","moreBtn","prevPrevBtn","prevBtn","currentBtn","nextBtn","nextNextBtn","lastBtn","$f14acb2b0bce336c$export$3eebdb0a92525cbf","$f14acb2b0bce336c$export$1a9ea3363e73b948","$d011e6130e2987b7$export$2e2bcd8739ae039","catch","console","log","$526c57a9a461ae8b$export$2e2bcd8739ae039","data","paginatioRef","document","querySelector","total_pages","innerHTML","addEventListener","onPaginationBtnClick","e","preventDefault","target","textContent","removeEventListener","nodeName","$d011e6130e2987b7$var$appService","response","results","Promise","all","allGenres","flatMap","r","genreMap","Map","object","$8c295a9976345325$export$3eebdb0a92525cbf","searchForm","$8c295a9976345325$export$bd8553b7b98ed76c","queryString","currentTarget","elements","value","trim","$e0446c7c34943dc1$export$e4d2f4f70d1c0448","headerElement","classList","remove","getElementById","$c25422e3598f748e$export$d508c8e60986c155","$e8915a450fe967a5$export$a253a35941f20abb","event","$ef7338c5754b84fb$export$41e1b73ac3c2fd8f","add","homeLink","logoLink","$c4c9c1b17c94b8ff$export$78d0e3a3948d754","vote","genre","$32f32acdb3536e0f$export$1d9a30f00e78c7c3","getWatchedList","localStorage","getItem","error","setWatchedList","list","setItem","stringify","getQueueList","setQueueList","isWatchedListEmpty","watchedList","isQueueListEmpty","queueList","isMovieInWatchedList","includes","isMovieInQueueList","addMovieToWatchedList","parsedMovies","addMovieToQueueList","removeMovieFromWatchedList","changedList","filter","removeMovieFromQueueList","clearWatchedList","removeItem","clearQueueList","$70882022f51b22a8$var$apiService","$70882022f51b22a8$export$69bf332fc394edc5","galleryElement","movieCards","libraryMarkup","$78d766f9167b7557$var$rootRef","$78d766f9167b7557$export$311ccb8ac074141f","headerMarkup","insertAdjacentHTML","$cd191764ec9631d8$export$2e2bcd8739ae039","vote_count","popularity","title","overview","genersList","element","$2a75f600e5c76ce3$export$9d350f52445bc4f2","dataset","action","addToQueue","addWached","filmId","getAttribute","toggle","disabled","$2a75f600e5c76ce3$export$29e927603b14c2c5","$a2ebfd54d0fe23c3$export$a7f6cffb6b8ba11c","backdropEl","$a2ebfd54d0fe23c3$var$onCloseEsc","$a2ebfd54d0fe23c3$var$onBtnCloseModalClick","$a2ebfd54d0fe23c3$var$closeModal","code","$02a9a92506d7547f$var$appService","async","$02a9a92506d7547f$export$2e2bcd8739ae039","setAttribute","markup","$02a9a92506d7547f$var$uppendModalMarkap","$b5b216055ab80a28$export$e38760b558c7b88e","contains","$1f0dc3b9307be026$var$rootRef","$1f0dc3b9307be026$var$createSiteMarkup","once"],"version":3,"file":"index.7a2bc171.js.map"}