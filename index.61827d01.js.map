{"mappings":"IAKAA,EALa,CACXC,YAAaC,SAASC,cAAc,iBACpCC,SAAUF,SAASC,cAAc,cCGnC,MAAME,EAAa,ICFJ,MAObC,gBACE,MAAMC,EAAM,+FAAoDC,KAAKC,OAErE,OAAOC,MAAMH,GAAKI,MAAKC,GAAOA,EAAIC,SAGpCC,mBACE,MAAMP,EAAM,2GAAgEC,KAAKO,oBAAoBP,KAAKC,2BAE1G,OAAOC,MAAMH,GAAKI,MAAKC,GAAOA,EAAIC,SAGpCG,kBAAkBC,GAGhB,OAAOP,MAFK,sCAAqBO,6DAEfN,MAAKC,GAAOA,EAAIC,SAGpCK,gBACEV,KAAKC,MAAQ,EAGXU,eAAWC,GACbZ,KAAKC,KAAOW,EAGdC,YACEb,KAAKC,KAAO,EAGVa,YACF,OAAOd,KAAKO,YAGVO,UAAMC,GACRf,KAAKO,YAAcQ,EAGjBN,cACF,OAAOT,KAAKgB,SAGVP,YAAQQ,GACVjB,KAAKgB,SAAWC,EAjDlBC,cACElB,KAAKO,YAAc,GACnBP,KAAKC,KAAO,EACZD,KAAKgB,SAAW,UDKpBxB,EAAKC,YAAY0B,iBAAiB,UAElC,SAAuBC,GACrBA,EAAEC,iBAEFxB,EAAWiB,MAAQM,EAAEE,cAAcC,SAAShB,YAAYiB,MAAMC,OAI9D,GAFiD,KAA3B5B,EAAWU,YAKE,YAFjCmB,QAAQC,IAAI,gBAKd9B,EAAWgB,YACXhB,EAAWS,mBAAmBH,KAAKuB,QAAQC","sources":["src/js/refs.js","src/index.js","src/js/api-service.js"],"sourcesContent":["const refs = {\n  searchInput: document.querySelector('#search-movie'),\n  backdrop: document.querySelector('.backdrop'),\n};\n\nexport default refs;\n","import './sass/index.scss';\nimport Api from './js/api-service';\nimport refs from './js/refs';\nimport renderModalCard from './js/templates/render-card-modal';\nimport renderFooter from './js/templates/render-footer';\nconst appService = new Api();\n\n// -------------Для рендеру карток головної сторінки-----------\n// appService.fetchTrending().then(console.log)   // Повертає об'єкт, в якому є масив з фільмами, номер поточної сторінки, кількість сторінок і скільски всього знайдено відео\n// ------------------------------------------------\n\n// -------------Поіск фільму по назві-----------\nrefs.searchInput.addEventListener('submit', onSearchMovie);\n\nfunction onSearchMovie(e) {\n  e.preventDefault();\n\n  appService.query = e.currentTarget.elements.searchQuery.value.trim();\n\n  const isEmptySearch = appService.searchQuery === '';\n\n  if (isEmptySearch) {\n    console.log('Пустий пошук');\n    //Зробити повідомлення про пустий пошук\n    return;\n  }\n\n  appService.resetPage();\n  appService.fetchSearchMovie().then(console.log);\n}\n// ------------------------------------------------\n// тест відкриття модали з ID фшльму 12 (розкоментуй renderModalCard)\n// renderModalCard(12);\n// експорт для доступу в функції renderModalCard\nexport { appService };","const BASE_URL = 'https://api.themoviedb.org/3';\nconst KEY = '81f57ce8a5863d84fdab7c29ba0c37c2';\n\nexport default class ApiService {\n  constructor() {\n    this.searchQuery = '';\n    this.page = 1;\n    this.searchId = '66732';\n  }\n\n  fetchTrending() {\n    const url = `${BASE_URL}/trending/all/day?api_key=${KEY}&page=${this.page}`;\n\n    return fetch(url).then(res => res.json());\n  }\n\n  fetchSearchMovie() {\n    const url = `${BASE_URL}/search/movie?api_key=${KEY}&language=en-US&query=${this.searchQuery}&page=${this.page}&include_adult=false`;\n\n    return fetch(url).then(res => res.json());\n  }\n\n  fetchMovieDetails(movieId) {\n    const url = `${BASE_URL}/movie/${movieId}?api_key=${KEY}&language=en-US`;\n\n    return fetch(url).then(res => res.json());\n  }\n\n  incrementPage() {\n    this.page += 1;\n  }\n\n  set pageNumber(number) {\n    this.page = number;\n  }\n\n  resetPage() {\n    this.page = 1;\n  }\n\n  get query() {\n    return this.searchQuery;\n  }\n\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n\n  get movieId() {\n    return this.searchId;\n  }\n\n  set movieId(newId) {\n    this.searchId = newId;\n  }\n}\n\n//\n"],"names":["$ee27a4d7c64fc8c4$export$2e2bcd8739ae039","searchInput","document","querySelector","backdrop","$1f0dc3b9307be026$export$3eebdb0a92525cbf","fetchTrending","url","this","page","fetch","then","res","json","fetchSearchMovie","searchQuery","fetchMovieDetails","movieId","incrementPage","pageNumber","number","resetPage","query","newQuery","searchId","newId","constructor","addEventListener","e","preventDefault","currentTarget","elements","value","trim","console","log"],"version":3,"file":"index.61827d01.js.map"}