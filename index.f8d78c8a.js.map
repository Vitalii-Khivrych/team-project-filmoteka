{"mappings":"oeACA,IAAAA,EAAAC,EAAA,S;;;;;;;;;;;;;;;;;0EAUA,MAAMC,EAAiBC,SAASC,eAAe,YACzCC,EAAkBF,SAASC,eAAe,aAC1CE,EAAsBH,SAASC,eAAe,WAC9CG,EAAuBJ,SAASC,eAAe,YAGrDG,EAAqBC,iBAAiB,SA0BtC,YACE,EAAAR,EAAAS,UAAQ,EAAAT,EAAAU,eA1BVJ,EAAoBE,iBAAiB,SAgBrCG,iBACI,IACI,MAAMC,EAAW,IAAI,EAAAZ,EAAAa,0BACrB,EAAAb,EAAAc,kBAAgB,EAAAd,EAAAU,WAAWE,GAC7B,MAAOG,GACLC,QAAQC,IAAIF,QARR,EAAAG,EAAAC,eAVW,CACrBC,OAAQ,0CACRC,WAAY,kCACZC,YAAa,yEACbC,UAAW,kBACXC,cAAe,8BACfC,kBAAmB,eACnBC,MAAO,4CACPC,cAAe,iBAwBuD,SAA/DC,EAAkBC,GACzB,GAAIA,EAAM,CAEgB,MAAlBC,GAkCD,EAAA9B,EAAAU,WAAUqB,YAAYC,UAAY,gDAjCjCC,GAsCD,EAAAjC,EAAAU,WAAUqB,YAAYG,YApC3BhC,EAAeiC,MAAMC,gBACnB,UAuByC,KADZC,EAtBMP,GAuB/BQ,QAAQ,2BAAwD,IAArBD,EAAIC,QAAQ,KACtDD,EAAM,UAERA,GA1BiD,KACtDhC,EAAgBkC,YAAcN,EAG0B5B,EAAxCmC,gBAAgB,UAChCtC,EAAesC,gBAAgB,UAC/BjC,EAAqBiC,gBAAgB,UAGVlC,EAAPmC,aAAa,SAAU,aAIpBpC,EAAPoC,aAAa,SAAU,QACvCvC,EAAeuC,aAAa,SAAU,QACtClC,EAAqBkC,aAAa,SAAU,QAGjBnC,EAAPkC,gBAAgB,UAIxC,IAAmCH,GAjCjC,EAAArC,EAAA0C,qBAAmB,EAAA1C,EAAAU,WAAWkB","sources":["src/js/firebase.js"],"sourcesContent":["\nimport {\n  getAuth,\n  onAuthStateChanged,\n  GoogleAuthProvider,\n  signInWithPopup,\n  signOut,\n} from 'firebase/auth';\nimport { initializeApp } from \"firebase/app\";\n\n\nconst userPicElement = document.getElementById('user-pic');\nconst userNameElement = document.getElementById('user-name');\nconst signInButtonElement = document.getElementById('sign-in');\nconst signOutButtonElement = document.getElementById('sign-out');\n\n\nsignOutButtonElement.addEventListener('click', signOutUser);\nsignInButtonElement.addEventListener('click', signIn);\n\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyD97IsDjK-7IAttx0i6Aam0sN8iE_LfeLk\",\n  authDomain: \"filmoteka-9c8eb.firebaseapp.com\",\n  databaseURL: \"https://filmoteka-9c8eb-default-rtdb.europe-west1.firebasedatabase.app\",\n  projectId: \"filmoteka-9c8eb\",\n  storageBucket: \"filmoteka-9c8eb.appspot.com\",\n  messagingSenderId: \"661633585171\",\n  appId: \"1:661633585171:web:5eac125f261ab9e0712fe6\",\n  measurementId: \"G-BYWLPZ81KP\"\n};\nconst app = initializeApp(firebaseConfig);\n\n\nasync function signIn() {\n    try {\n        const provider = new GoogleAuthProvider();\n  await signInWithPopup(getAuth(), provider);\n    } catch (error) {\n        console.log(error);\n    }\n}\n\nfunction signOutUser() {\n  signOut(getAuth());\n  \n}\n\nfunction initFirebaseAuth() {\n  onAuthStateChanged(getAuth(), authStateObserver);\n}\n\n// Запускаємо рендер зображення користувача згідно його статусу - зареєстрований чи ні\nfunction authStateObserver(user) {\n  if (user) {\n    // Користувач зареєстрований\n    const profilePicUrl = getProfilePicUrl();\n    const userName = getUserName();\n\n    userPicElement.style.backgroundImage =\n      'url(' + addSizeToGoogleProfilePic(profilePicUrl) + ')';\n    userNameElement.textContent = userName;\n\n    // Показуємо дані користувача та відкриваємо кнопку разлогінитись\n    userNameElement.removeAttribute('hidden');\n    userPicElement.removeAttribute('hidden');\n    signOutButtonElement.removeAttribute('hidden');\n\n    // Скриваємо кнопку залогінитись\n    signInButtonElement.setAttribute('hidden', 'true');\n\n  } else {\n    // Користувач не залогінився\n    userNameElement.setAttribute('hidden', 'true');\n    userPicElement.setAttribute('hidden', 'true');\n    signOutButtonElement.setAttribute('hidden', 'true');\n\n    // Показуємо кнопку залогінитись\n    signInButtonElement.removeAttribute('hidden');\n  }\n}\n\nfunction addSizeToGoogleProfilePic(url) {\n  if (url.indexOf('googleusercontent.com') !== -1 && url.indexOf('?') === -1) {\n    return url + '?sz=150';\n  }\n  return url;\n}\n// Отримуємо фото зареєстрованого користувача\nfunction getProfilePicUrl() {\n  return getAuth().currentUser.photoURL || './images/free-icon-delete-account-7084160.png';\n}\n\n// Отримуємо displayName зареєстрованого користувача\nfunction getUserName() {\n  return getAuth().currentUser.displayName;\n}\n\ninitFirebaseAuth();\n\nexport {signIn}"],"names":["$amyG6","parcelRequire","$1ac6e48565c64d78$var$userPicElement","document","getElementById","$1ac6e48565c64d78$var$userNameElement","$1ac6e48565c64d78$var$signInButtonElement","$1ac6e48565c64d78$var$signOutButtonElement","addEventListener","signOut","getAuth","async","provider","GoogleAuthProvider","signInWithPopup","error","console","log","$ix4Jr","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","$1ac6e48565c64d78$var$authStateObserver","user","profilePicUrl","currentUser","photoURL","userName","displayName","style","backgroundImage","url","indexOf","textContent","removeAttribute","setAttribute","onAuthStateChanged"],"version":3,"file":"index.f8d78c8a.js.map"}